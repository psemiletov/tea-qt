<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TEA Fine Manual</title>
</head>
<body>
<h1>TEA Fine Manual</h1>
<br>
<h2>Table of content</h2>
<br><br>

<a href="#mni_intro">Introduction</a><br>
<a href="#mni_interface">Interface</a><br>
<a href="#mni_manager">File manager</a><br>
<a href="#mni_todo">Dates panel</a><br>
<a href="#mni_file">File</a><br>
<a href="#mni_calendar">Calendar</a><br>
<a href="#mni_edit">Edit</a><br>
<a href="#mni_markup">Markup</a><br>
<a href="#mni_search">Search</a><br>
<a href="#mni_functions">Functions</a><br>
<a href="#mni_spell">Functions - Spell checking</a><br>
<a href="#mni_ide">IDE</a><br>
<a href="#mni_run">Run</a><br>
<a href="#mni_nav">Nav</a><br>
<a href="#mni_fm">Fm</a><br>
<a href="#mni_view">View</a><br>
<a href="#mni_prefs">Options tab</a><br>
<a href="#mni_keyb">Options - Keyboard</a><br>
<a href="#mni_autosave">On autosaving</a><br>
<a href="#mni_secret">Secret power</a><br>

<a href="#mni_notes">Notes</a><br>
<a href="#mni_author">Other projects by the author</a><br>
<a href="#mni_donate">Support the development</a><br>


<a name="mni_intro"></a>
<h3>Introduction</h3>

<p>TEA has a long development history. At the autumn of the year 2000, there was first implementation of TEA, written in Object Pascal using Borland Delphi. Since then, TEA has been many times rewritten from zero (Pascal - C/Gtk - C++/Qt) and opened its source. The initial TEA UI was inspired by Impulse Tracker and Sound Forge. Later, the conception of sliding panels and tabs has been implemented.</p>

<p>Now TEA has THREE branches. This, TEA-Qt, is the modern one. There also outdated TEA-GTK (Gtk 2) and TEA-GTK (GTK 3), the buggy and forgotten one. So use TEA-Qt.</p>

<p>TEA has two homesites: <a href="http://semiletov.org/tea">semiletov.org/tea</a> and <a href="http://tea.ourproject.org/">tea.ourproject.org</a>. If one of them is down, go to another one. Happy Arch/Manjaro/etc. users can use my "tea-qt" package from AUR (<a href="https://aur.archlinux.org/packages/tea-qt">aur.archlinux.org/packages/tea-qt</a>). Also, welcome to <a href="http://github.com/psemiletov/tea-qt">github.com/psemiletov/tea-qt</a> - always up to date, but can be unstable.</p>

<p>TEA name means nothing. It's not "Text Editor Of Atomic Era" or somethink that you may read at TEA reviews. Initially, TEA = "Text Editing and Authoring". Then, TEA was associated with a common drink (I like to drink the tea). But for now, TEA is just TEA or ТИА.</p>

<p>Normally, TEA holds its configuration data and other support files at $HOME/.config/tea (or, under Window, at C:\Documents and Settings\username\tea). But if you want to start TEA from the flash drive in the portable mode, TEA must read/write configuration data into the directory with the TEA binary. To start TEA in the portable mode, use "--p" command line option:
</p>

<p>tea --p</p>

<p>As you know, TEA under *NIX is a single binary. Under Windows TEA installation directory contains all what you need to start TEA portable. Please note, that your NORMAL-MODE settings are stills exists and available anytime when you start TEA WITHOUT the "--p" key. TEA preferences of portable and normal modes are each other independent and exists in parallel.</p>

<br>
<a name="mni_interface"></a>
<h3>Interface</h3>

<p>TEA has two interface mode - the Classical one and the new, so called Docked mode. You can switch between them at <b>Options - Interface - UI mode</b>. At the docked mode, you can tear off and/or move the Logmemo and FIF (see below). The default UI is the Classical. I'm personally use the Classical.</p>

<p>From the top to bottom, there are:</p>

<p>1. <b>The main menu</b>. Note that you can tear submenus off and place them somewhere over the desktop. Menu items are highly depended on the current task or even editor mode. Some menus can be visible or hidden according to the task (editing, file browsing, etc.).</p>

<p>2. <b>The toolbars area</b>. Actually, toolbars can be parked at the any side of TEA window. Positions are saved between sessions. To turn the toolbar on and off, use the context menu for the toolbar (right click on the toolbar). If no toolbar is visible, do the right click on the menu bar.</p>

<p>3. <b>The tabbed area</b>. It contains 5 main tabs - <b>editor</b>, <b>files</b>, <b>options</b>, <dates>, and <b>manual</b>. <b>Editor</b> - that where you see opened documents. <b>Files</b> - a built-in file manager. <b>Options</b> - here you can change TEA preferences. All changes will be applied immediately. <b>Dates</b> - the simple calendar with the organizer functions. <b>Manual</b> - the built-in User manual. This, the excellent one!</p>

<p>4. <b>Logmemo</b>. It is a notification area for all warnings, information messages and the results of some text-processing functions.</p>

<p>5. <b>The Famous input field (FIF)</b>. An input text field to put here values for text-processing functions. Also it is used for Find/Replace (read about a <b>Search</b> menu for details). FIF has three buttons - <b>Find</b>, <b>Find previous</b> and <b>Find next</b>. FIF is used also for a search in the TEA manual, menu items list (at the hotkeys customization page) and even the built-in file manager.</p>

<p>6. <b>The status bar</b>. You can setup the status bar's content via the preferences <b>Interface</b> page.</p>

<br>
<a name="mni_manager"></a>
<h3>File manager</h3>

<p>The TEA's file manager is hidden under the <b>files</b> tab. It is not an additional bloatware tool, but an essential part of the editor. It replaces the standard File save/open dialogs (by the way, you can bring them back using <b>Options &gt; Common &gt; Use traditional File Save/Open dialogs</b> checkbox).</p>

<p>Let's see on the shining force of TEA's file manager.</p>

<p>The directory bar is located on the top. There is an entry with the current directory path, and a nice toolbar with following buttons:</p>

<p><b>Go</b> - navigates to the directory with the path from the text entry.</p>

<p><b>Home</b> - teleports you to your cozy home directory.</p>

<p><b>Refresh</b> - refreshes a files list to your pleasure.</p>

<p><b>File operations</b> button with submenu. It contains some utility actions such as <b>Create new directory</b>, <b>Rename</b> and <b>Delete file</b>. Please note that TEA does not delete the directories.</p>

<p>The <b>right panel</b> of the file manager.</p>

<p>At the top you see the file name field. Here you can give the name for a file to open or save it. To save the current file under some name, just put the filename into the <b>Name</b> text entry and press the <b>Save as</b> button. To open a file, do the double click on the file name at the files list, or put the file name into the <b>Name</b> entry and press the <b>Open</b> button. You can use the Enter key inside of this input field. The action is related to the menu item  (File open or Save as) that you used to open the file manager tab.<p>

<p>You can also select several files (Ctrl-click or INSERT key) and then press the <b>Open</b> button.</p> 

<p>The selected file is saved or opened with the encoding that is selected at the character set list below from the <b>Name</b> entry. There is also a "?" button. Select some file and press this button - it tries to autodetect the file's character set and activate it at the encodings list. Currently only HTML files or Russian charsets are supported for built-in automatic detection, and other via <b>enca</b> utility (See <b>Options - Common</b>).</p>

<p><b>Bookmarks</b> list. You can easily add and remove the directory bookmarks using the "+" and "-" buttons. The "+" button adds a bookmark to the file system tree's current directory. The "-"  button removes the selected bookmark. To activate the bookmark and navigate to the respective directory, double click on the bookmark.</p>

<p>There are some special bookmarks at the top of the list: snippets, templates, scripts. You can't remove them. They point to the TEA special directories for user's items such as templates, snippets, etc.</p>

<p>You can enable the <b>Options &gt; Common &gt; Automatic preview images at file manager</b> option to show a small preview window near the file manager. Also, when the cursor is located on the image file, you can use <b>Open at cursor</b> (F2) function to view the image at the full-size in another built-in image viewer (see the <b>Open at cursor</b> description).</p>

<br>
<a name="mni_todo"></a>
<h3>Dates panel</h3>

<p>As you can notice, TEA has the built-in calendar-organizer under the <b>dates</b> tab of the main window. By double-clicking on the days, you create or open the file-per-day text documents. When you close such file, its content will be saved automatically. To remove the day record, use <b>Calendar &gt; Remove day record</b>.</p>

<p>At the text you can specify the time signature for the alarm event. This signature has the format <i>[hh:mm]</i> in the 24 hour day. All text after such signature and before the next one will be treated as the alarm message. For example:</p>

<p>[20:00] go to the theater<br>
[23:00] howl at the moon
</p>

<p>For sure, you need to have TEA running to see the alarm message!</p>

<p>Single click on the date cell shows the day record (if any) at the logmemo area.</p>

<p>At the <b>Options</b> page, you can set the <b>Start week on Sunday</b> option to the "on". The calendar widget can work in two modes - the normal and the lunar one. Read the <a href="#mni_calendar">Calendar</a> section for details.</p>

<br>
<a name="mni_file"></a>
<h3>File</h3>

<p><b>New</b>. Impossible! It's a kind of magic. This menu item creates a new blank document where you can type any words you want. For example, type the word "hello". It's a very cheerful word. That what we usually say to all good people around. Hello! And your world becomes brighter.</p>

<p><b>Open</b> - for sure, this menu item helps you to open any file that you already stored at your hard disk.</p>

<p>If you are using the build-in file manager, read the <a href="#mni_manager">File manager</a> chapter. Otherwise, read the words of true about the File open dialog window.</p>

<p>There is a small secret at the File open dialog window. The character set combobox. Yes. With that fine tool in the box, you can open a text file in any encoding that is known by a human being (actually, <b>libiconv</b>). But be careful! You must know exactly which encoding you need to use to read your file correctly. Otherwise you shall see many weird letters that can harm your spiritual calmness. If so, close your eyes quickly and type "hello" at seven times! Or you can try to load your file with another encoding selected. So choose wise. By the way, TEA can try to auto-detect the encoding - just press the "?" button (on the right from the character set list). Better to turn on the option <b>Use Enca for charset detection</b> at <b>Options - Common</b> page, if Enca is installed.</p>

<p>TEA can open all plain text files, and also ODT (OpenDocument Text), KWD (old KWord's format), FB2, DOCX, RTF, SXW (old OOo/StarOffice format), ABW (Abiword) formats and gzipped files. But only the plain text files can be saved with TEA. About other mentioned formats - TEA just can extract text from them, trying to preserve the basic layout (indents, paragraphs). When compiled with PDF and DVJU support, TEA extracts text from them too. When use TEA's <b>Search in files</b>, TEA looks inside of all files of these formats.</p>

<p><b>Save</b> - if your file is already saved, this menu item saves it again. That is how it works. But, if a file is not saved, you shall see a surprise! A <a href="#mni_manager">File manager</a>. There, put the file name into the <b>Name</b> entry and press the <b>Save as</b> button.</p>

<p><b>Last closed file</b> - opens a last closed file. This sentence is a greater paradox of XXI century CE.</p>

<p><b>Open at cursor, or F2 as a shortcut</b> - this feature transforms a user into the so-called "F2 addict". Strange mind and body transformations can happen, so you are warned!</p>

<p>Put the cursor at the file name in the href-link or LaTeX includegraphics, input, include etc. Press F2. See THAT miracle? TEA opens a file with the file name that was pointed. If this file is already opened, its tab will be focused. If the file is an image, TEA show it in the build-in image browser. But, what if you don't work with the [X]HTML code, but use a real file names in your text and want to open them? TEA can handle that - just select the file name (not just put a cursor on it) and press F2.</p>

<p>What is the difference? TEA can open a "file under cursor" when the file name is enclosed with quotes. As in HTML or most of the code sources. In other cases, you need to select file name manually with Shift-cursor keys or using the mouse.</p>

<p>And a bit more - using <b>Open at cursor</b> you can navigate through local href-links.</p>

<p>You can also use <b>Open at cursor</b> at the built-in file manager to open the image file with the preview window.</p>

<p>Also, you can open file at cursor with any external program. Read about the "Run" menu for details.</p>

<p><b>Crapbook</b> - opens a special file where you can put some notes, pieces of a text, etc. The crapbook file will be saved automatically when you close it. If the Crapbook file is opened and you exiting TEA, the content of a Crapbook is saved too.</p>

<p><b>Notes</b> - a kind of crapbook, but connected to the current file. Useful to put the notes related to the current file's content. The .notes file is autosaved on exit.</p>

<p><b>Save as different &gt; Save .bak</b> - saves a content of the current document with name, where the "bak" extension added.</p>

<p><b>Save as different &gt; Save timestamped version</b> - saves a content of the current document with name, where the timestamp is added. So you shall know the date and time related to the saved version. Note about timestamp format. Is is yyyy-MM-dd-hh-mm-ss. So the first comes a year, then a month, then days, hours, minutes and seconds.</p>

<p><b>Recent files</b>. From this submenu you can open one of the last dozen opened files. TEA remembers the name, the encoding and the current position of the file when you close the document, so at the next time TEA already know the charset and the position, where to start an editing.</p>

<p><b>Templates</b> - to create a new file from the template, select a template from this menu. To create a new template, save a text file into the TEA <i>templates</i> directory. It is available from <i>templates</i> bookmark at the TEA's file manager (or at the left sidebar at <b>File save</b> dialog). And vice versa, to open the template use the file manager's <i>templates</i> bookmark again. The character set of templates is always UTF-8. TEA sets it automatically even if you choose another encoding.</p>

<p>To delete or rename the template, use the file manager or File save/open dialogs.</p>

<p><b>Sessions</b> - at this menu sessions are available. The session is a simple list of opened files. To load them all, just choose a session name from this menu. To save a session, put the name of the session into the Famous input field, then use <b>File  &gt;  Save different  &gt;  Save session</b>. At the preferences <b>Common</b> page you can check the <b>Restore the last session on start-up</b> option. If this option is turned on, TEA will save the session on exit (under the name <i>def-session-777</i>), and then load this session when starting.</p>

<p><b>Bookmarks</b> - this menu is similar to <b>Recent files</b>, but the files list is updating by you, not by TEA. To add a current file to this list, use <b>Edit bookmarks &gt; Add to bookmarks</b> function. If the bookmarks list already contains the adding file, its record will be updated with new position and charset values. To delete the bookmark, open the bookmarks list from the <b>File &gt; Configs</b> menu, delete the needed line and save the list in a usual way. The wrong bookmark can be temporarily disabled with the "#" prefix. To search wrong paths and disable such bookmarks automatically, use <b>Edit bookmarks &gt; Find obsolete paths</b> function.</p>

<p><b>File actions</b> submenu. From this menu you can do some magical things. <b>Set UNIX end of line</b>, <b>Set Windows end of line</b>, <b>Set traditional Mac end of line</b> - those functions allow you to override the file's end of line (EOL). When you save the file, the chosen EOL will be applied. To check the file's EOL, select a file at the built-in file manager and use <b>Fm &gt; File information &gt; Full info</b>.</p>

<p><b>Do not add to recent</b> - temporarily disable the recent files list update. This function is useful if you need to open many files and do not want to overwrite your recent files list. So use "do not add" before close "unwanted" files, work with them, close, then switch "do not add" off to bring the normal recent list functionality.</p>

<p><b>Exit</b> - closes TEA. To reduce the annoyance level, TEA does not ask to confirm it. And another thing related to confirmations - TEA automatically proposes to save the modified existing files only. I.e. if you close (with TEA or by Ctrl-W) the modified new, no-named file, TEA silently will close it.</p>

<br>
<a name="mni_calendar"></a>
<h3>Calendar</h3>

<p>This menu is available only when the <b>todo</b> panel is active.</p>

<p><b>Moon mode on/off</b> - switch calendar widget to the moon/normal modes. In the first one, the moon phases are shown. Also you'll see the moon day number after the slash (before the Gregorian day number). I.e. the format is: normal day number / moon day number.</p>

<p>Some words about the calculation of moon day. First of all, you need to select the right Earth hemisphere at <b>Options - Common - Northern hemisphere (on/off)</b>. The other important thing is the algorithm (<b>Options - Common - Moon phase algorithm</b>). The speed and precision vary, try for yourself. There are several algorithms were been used. Some of them are based on Ben Danglish's article at www.ben-daglish.net/moon.shtml, another one on the Alexander Leushkanov's article - www.astrogalaxy.ru/275.html.</p>

<p>Due to some technical source, the image of moon phase for days 12 and 13 are the same.</p>

<p><b>Add or subtract years/months/days</b> - allows one to navigate through the calendar back and forward on N years, or months, or days. For example, you need to see the day +6 after the current one. Put "6" into the Famous Input Field, and then use <b>Add or subtract &gt; days</b>. If you want to move backward, put the negative value into the FIF, i.e. "-6" instead of "6".</p>

<p><b>Number of days between two dates</b> - calculates the number of days between two dates. Select the first date at the Calendar and use <b>Mark first date</b> menu item. Select the last date at the Calendar and use <b>Mark last date</b>. Use <b>Number of days between two dates</b> functions to measure the difference between the first and second dates.</p>

<p><b>Calculate moon days between dates</b> - creates a list with moon days between two dates (<b>Mark first/last date</b>).</p>


<br>
<a name="mni_edit"></a>
<h3>Edit</h3>

<p>About the rectangular or block selection. TEA has such limited ability that does not fit TEA's architecture well, and text-processing functions cannot be used with block selections. All that you can do with them it is to select using <b>Block start</b> and <b>Block end</b>, and then <b>Copy block</b>, <b>Cut block</b> and <b>Paste block</b>.</p>

<p>Some notes about <b>Indent/Un-indent</b> functions. There are two hardcoded keyboard shortcuts are assigned to this functions - Tab and Shift-Tab. If no text selected, <b>Indent (Tab)</b> inserts a tab character or a space (spaces). Such behavior is depended from <b>Options &gt; Interface &gt; Use spaces instead of tabs</b> and <b>Tab width in spaces</b> options.</p>

<p>If <b>Use spaces instead of tabs</b> is checked on, the editor will insert (by Tab key) the number of spaces that defined at <b>Tab width in spaces</b>. Otherwise, TEA inserts a single tab.</p>

<p>TEA also has the <b>Automatic indent</b> option, disabled by default.</p>

<p><b>Indent by first line</b> - this function indents all selected lines with the same indent as the first lines of selection indent.</p>

<p><b>Storage files</b> - you can use some file as a "storage" file to copy text directly to it from different sources. <b>Set as storage file</b> chooses the current opened file as the storage file. Then, if you want copy and paste some text into that file, just use <b>Copy to storage file</b>. Also you can capture the system's clipboard text and put it to the storage using <b>Start/stop capture clipboard to storage file</b>. You may have just one storage file per session. When you close the storage file, all further pasting to it will be disabled until you not set a storage file again.</p>

<p>To control the text that inserts to the storage you can use the template file called <i>cliptpl.txt</i> at the TEA config directory. Just create such file with some macros, for example:
</p>

<pre>
---
%date
%time
%s
---
</pre>

Here is: %s - the text from the clipboard, %date - current date, %time - current time.

<br>
<a name="mni_markup"></a>
<h3>Markup</h3>

<p>The functions from this menu are mainly working depending of the selected markup <b>Mode</b>. There are several modes available - HTML, XHTML, LaTeX, Wikitext, Markdown, Lout and DocBook. When you select some mode from the <b>Mode</b> menu, you set the markup mode for the current document. So different documents have different, separated modes. It allows one to edit one file as HTML and another one as DocBook XML with the same menu item. So, menu items act differently according to the document's markup mode. To use Wikitext mode, set this mode manually from the menu Mode, or use .wiki as the filename extension.</p>

<p>You can select a text and use some function, for example the "Paragraph". If you don't select any text, TEA just insert tags at the cursor position.</p>

<p>Beside the tag-related functions, <b>Markup</b> menu has a set of [X]HTML tools.</p>

<p><b>[X]HTML tools - Rename selected file</b> - renames the file and changes the selected text. For example, you have (in your HTML or LaTeX document) a link to some file. You want to rename that file. Select its file name at the text, then put into the FIF a new file name (without the full path, just the name.ext), and use this function. Voila!</p>

<p><b>[X]HTML tools &gt; Document weight</b> - calculates a total document weight including all SRC-staff (images, flashes etc). Look for the result at the Logmemo.</p>

<p><b>[X]HTML tools &gt; Convert tags to entities</b> - if you want to show some HTML-tagged code in your [X]HTML-document, select your code and use this function. You'll get, for example:</p>

<p>&amp;lt;b&amp;gt;demo&amp;lt;/b&amp;gt;
</p>

<p><b>[X]HTML tools &gt; Text to HTML</b> - this function converts a plain text into the nice HTML/XHTML-formatted code using CSS.</p>

<p><b>[X]HTML tools &gt; Preview selected color</b> - previews the selected (within the text) color at the FIF. The color can be in the form of the hex value or the named color (darkBlue, red, white, etc).</p>

<p><b>Antispam e-mail</b> - makes a selected mailto-link possibly invisible to those damned spammer e-mail harvesters, by converting an address into integer-coded entities. For example, if you will look at the source of that document, <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#116;&#101;&#97;&#64;&#108;&#105;&#115;&#116;&#46;&#114;&#117;">mailto:tea@list.ru</a> will look like the heap of a garbage. I hope that spam harvesters do not understand it.</p>

<br><br>
<a name="mni_search"></a>
<h3>Search</h3>

<p>TEA has no dialog windows for find/replace functions. TEA uses the Famous input field (FIF) and menu-driven interface.</p>

<p>To find a substring within the text, put your substring into FIF (Use Ctrl-F to focus it) and press Enter. Then you can use <b>Find next</b> or <b>Find previous</b> functions. There are also three buttons near the FIF. They are: Find, Find previous and Find next. On search, TEA <b>starts from the cursor position</b>. You can set <b>Whole words</b> and <b>Case sensitive</b> options by checking the respective menu items.</p>

<p>To replace the selected (i.e. text that been found) text with a new one, put the new value to the FIF and use the <b>Replace with</b> function. Thus, you can walk through the text using <b>Find next</b> and apply <b>Replace with</b> when you need. </p>

<p>To replace all occurrences of a substring in the selected text, put a special command into the FIF:</p>

<p>old value~new value</p>

<p>So, the "~" is the delimiter. For example, you want to replace all occurrences of the word "cat" to the "mouse". The command will be:</p>

<p>cat~mouse</p>

<p>So put such command to the FIF and apply the <b>Replace all</b> function.</p>

<p>If you want to delete some substring from the text, use the <i>substring~</i> formula. For example, to remove all occurrences of the word "weapon" from the text you can use "weapon~".</p>

<p>While search or replace you can use regular expressions (TEA via QT uses PCRE2 library "that implement regular expression pattern matching using the same syntax and semantics as Perl 5"). To do so, turn on the <b>Regexp mode</b> option (below the <b>Whole words</b>). For example, to convert HTML italic tag into the TeX tag you can use the following formulae:</p>

<p><i>&lt;i&gt;([^&lt;]*)&lt;/i&gt;~\emph{\1}</i></p>

<p>Please note that <i>\1</i> acts like a content of the captured (with "parentheses") part of the source string. To have the access to the second such part, use \2, \3 for the third, etc.</p>

<p>Another example - how to find all numbers at the text? Use the <i>(\d+)</i> regexp at the FIF.</p>

<p>Don't forget to disable the <b>Regexp mode</b> when you need to do a usual searching. Also the <b>Regexp mode</b> overrides the <b>Case insensitive</b> mode, i.e. with <b>Regexp mode</b> the <b>Case sensitive</b>  is ON by default.</p>

<p><b>Fuzzy mode</b> - enables very basic "fuzzy search" support. For example, you need to find some word, but don't remember how exactly it is written. So in fuzzy mode, TEA can find similar word (if they have the same length, i.e "fender", "lender", etc). The factor of similarity can be defined at <b>Options - Functions - Miscellaneous - Fuzzy search factor</b>.</p>

<p><b>In the file manager mode</b>, "Replace all" works with all selected files and the charset from the charset selector of the file manager panel.</p>

<p>At the last, <b>Replace all in opened files</b> works as the <b>Replace all</b>, but in the scope of all opened files.</p>

<p><b>Search in files</b> - searches the text given at FIF within all text files, starting from the current directory at the built-in file manager (the <b>Files</b> tab), and deeper into the subdirectories.  For a text encoding, TEA uses the charset that is selected at the charset list on the <b>Files</b> tab.</p>

<p>Actually, TEA searches not in the ALL files. For the central processing unit, there is no difference between text files or mp3, or images. Programs must know the difference, but how? And why it is so important to identify the text file? If the program cannot do that, it will search the text in all files - images, sounds, videos, etc.. Too much time! Thus, TEA must know the difference. So TEA presumes that text files are the files with extensions those TEA recognizes for syntax highlighting. Also, TEA knows that text files are txt, odt, kwd, docx and other formats those TEA support. Finally, TEA know about some definitely text files those have names such as README, ChangeLog, etc.
</p>

<p>So, TEA cannot search in all other files and currently there is no way to define custom file-name mask or something like that.</p>

<p><b>Mark all found/Unmark</b> - colorize or decolorize all search results at the text. This function can produce incorrect text color settings when using View - Darker, until you restart TEA or open and work with another file.
</p>

<br>
<a name="mni_functions"></a>
<h3>Functions</h3>

<p>To use text-processing functions, you need to select some text first. Some functions (such as <b>Text statistics</b>) can work with a whole text if no fragment is selected. Also there are some special cases when TEA can treat the current word as a selection when there is no text is actually selected. For example, it is a behavior of <b>UPCASE</b> and <b>lowcase</b> functions. But such behavior is a rare exception from the rule.</p>

<p>Some functions take the parameter that you must place into the Famous Input Field (FIF, the input entry at the bottom of the main window). For example, the function <b>Remove lines &lt; N size</b> gets N value from the Famous input field, so first you type the value,  then call a function. There are no default values.</p>

<p><b>Functions &gt; Repeat last</b> - repeat the last used function. Actually, it works with almost all menu items, not just at the Functions menu.</p>

<p><b>Functions &gt; Capitalize sentences</b> - make all selected sensences with the upper case first letter of the first word. Useful for auto-generated subtitles from Youtube, where you manually add ".", "!" and "?", and then apply this function.</p>

<p><b>Functions &gt; Tools &gt; Scale image</b> - scales the image. In the text, select the image file name or set the cursor on it. Put into the FIF parameters of the scaling. Apply this function.</p>

<p>The format of parameters is: filename~new size</p>

<p>Filename is the output filename. It can be "hardcoded" (i.e. something like "out.jpg") or contain macros: %filename (filename + extension), %basename (the file name without extension), %ext (extension). Thus, the full source file name is %basename.%ext. The full path with the filename is the macro %s. If you don't want to overwrite the source file, you can use some prefix or suffix to alter the file name:</p>

<p><i>foo-%basename-bar.%ext~1024</i></p>

<p>In this example, the output image file name shall be prefixed with "foo-", and suffixed "with -bar".</p>

<p>The second parameter is a new size. It can be in pixels or percents (just add "%" after the value):</p>

<p><i>foo-%basename.%ext~1024</i></p>
<p><i>foo-%basename.%ext~50%</i></p>

<p><b>Cells</b> submenu is used for all table-like data processing. It can be LaTeX tables, CSV-data, etc. In all cases you need to define (at FIF) the column separator to tell TEA how to parse the strings.</p>

<p><b>Functions &gt; Cells &gt; Sort table by column ABC</b> - sorts the text table by the column with the ABC order.
</p>

<p>Format string for FIF: <i>separator~column number</i></p>

<p>Columns range starts from 0, i.e. the first columns is 0, the second is 1, etc.</p>

<p>For example, we have LaTeX table with 4 rows, 2 columns:</p>

<p>dog&amp;cat<br>
lamb&amp;cow<br>
snake&amp;wombat<br>
wolf&amp;tiger</p>

<p>Now we want to sort it by the second (1) column (where the "cat", "cow", etc.). Select the text, put "&amp;~1" into the FIF, and call this function. The table will be sorted by the second column.</p>

<p>It is good to process the table without line-breaks (such as "\\" in LaTeX), and then add line-breaks to the result using the "Apply to each line" function with FIF value "%s\\".
</p>


<p><b>Functions &gt; Cells &gt; Swap cells</b> - swaps the cells of the table by columns.</p>

<p>FIF format string: separator~column1~column2</p>

<p>For example (with the previous sample table) we want to swap column 0 with 1 - the column with "cat" must be before "dog" column. Select the text, put into the FIF "&amp;~0~1", and call <b>Swap cells</b>.
</p>

<p><b>Functions &gt; Cells &gt; Delete by column</b> - delete column by the given number (0..n).
</p>

<p>FIF format: separator~column number</p>

<p>0 - first column, 1 - second, etc.</p>


<p><b>Functions &gt; Cells &gt; Copy by column[s]</b> - copy columns to the clipboard.</p>

<p>FIF format: separator~column 1[~column 2]</p>

<p>If the column2 is not given, the column1 will be copied, else - from column1 to column 2.</p>


<p><b>Functions &gt; Analysis &gt; Text statistics</b> - outputs text statistics for the whole text or the selection into the Logmemo.</p> 

<p><b>Functions &gt; Analysis &gt; Words lengths</b> - how much words with length from 1 to 32.</p> 

<p><b>Functions &gt; Analysis &gt; UNITAZ</b> - the UNIversal Text AnalyZer that computes frequencies of words and gives some other related information.
 </p> 

<p><b>Functions &gt; Analysis &gt;  Count the substring</b> - the number of occurrences of the substring (put it to the Famous Input Field) in the document. See the result at the logmemo. The "Search - Case sensitive" is used as an option.
</p> 

<p><b>Functions &gt; Analysis &gt; Extract words</b> - extracts all word from the document and place them into the newly created one.
</p> 

<h3>Functions  &gt; Tables</h3>

<p>In TEA, the <i>tables</i> is a something like a set of rules for the text replacing. At the first, you need to create the file with a table (<i>key=value</i> format). Here is an example:</p>

<pre>cat=dog
mew=bow-wow</pre>

<p>Then save this file as a replacement table file at the special TEA directory called <i>tables</i>. It is available at the file manager's bookmarks panel or file save dialog favourities. After you save the table under some name, it shows at the <b>Functions  &gt; Tables</b> menu.</p>

<p>Now try to apply this table. Create a new file and write some text like this: <i>The cat say: "mew"</i>. Select this text, then select your table from the menu and see what will happen. As a result we have a new sentence: <i>The dog say: "bow-wow"</i>. So the tables is a way to do a multiple replacement.</p>

<p>If the <b>Regexp mode</b> at the <b>Search options</b> is turned on, the table will use the <i>keys</i> as the Perl5 regexps (via PCRE2 library).</p>

<p><b>In the file manager mode</b>, tables work with all selected files and the charset from the charset selector of the file manager panel.</p>


<h3>Functions  &gt; Snippets</h3>

<p>The snippet is the piece of code, which you can insert into the text. TEA keeps each snippet as the single file in the <i>$HOME/.tea/snippets</i> directory. The file name of a snippet is the menu item in Snippets-menu, i.e. the content of Snippets menu is the list of files from <i>$HOME/.tea/snippets</i>. To create a new snippet, you need:</p>

<p>1. Write some text.<br>
2. <b>File &gt; Save As</b>. Click the "snippets" bookmark to open a snippets directory, then save your file as a usual one. Note: Do not save a snippet under the name of any other TEA menu item! Menu item names should not duplicates, otherwise TEA cannot set keyboard shortcuts properly. It is important when you give a name for the snippet, or the script, template, session name, etc.
<br>
3. Enjoy :)
</p>

<p>You can create a snippet that uses a text selection in some way. For example, you want to make a snippet which encloses the selected text into some HTML-tags. The <b>%s</b> macro represents a text selection. Here is the example of such snippet:</p>

<p>&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;</p>

<p>When this snippet will be applied, <b>%s</b> will be replaced with the selected text. If there no text is selected, snippet content will be inserted into the text (but without the "%s" macro).</p>

<p>To open a snippet for the editing, use <b>snippets</b> directory bookmark at the TEA file manager or File save/open dialog. From there you can also rename or delete snippets (use the context menu - the right click - in File save/open dialogs).</p>


<h3>Functions  &gt; Scripts</h3>

<h4>Scripts from the user's point of view</h4>

<p>With TEA you can use scripts to process a <b>selected text</b>, just as you use a built-in TEA functions. If the script can handle some parameters, put them into the Famous input field.</p>

<p>TEA can work with scripts those written in Python, Perl, Ruby, Lua, Bash (Sh), 2/REXX, and Windows batch format. To install a script, just put it to <i>$HOME/.config/tea/scripts</i> (you can use "scripts" shortcut at the Save As dialog to save your file as a TEA script). TEA will "see" the newly installed scripts after restart or when you save the script from TEA. The scripts management stuff is similar to snippets.</p>

<h4>Scripts from the developer's point of view</h4>

<p> How to write a script for TEA? It's quite simple. But the first thing that you must to know it is how TEA gives a text to the script and how TEA takes a processed text back to replace the selection with it.</p>

<p>TEA runs each script with one or two parameters. Both of them are file names. The first file contains the text (UTF-8). This text is a selected text that TEA gets in the current document. And the second file (if exists) contains a text (UTF-8) from the Famous input field. So your script can read the first file to obtain the text data, and read the second file to get some optional parameters for your script.</p>
 
<p>Be careful with the text handling - TEA internally operates with UTF-8 encoding, so all text processing at the script must be UTF-8-safe. OK, now let's see how a script can return a processed text. Just write that processed text to the first file again, i.e. to the file, which file name you take from the first parameter of your script.</p>

<p>Below these lines you shall see an example of UTF8-safe Python-script that takes a text, swaps the case, and returns the processed text back to the TEA.</p>

<pre>import sys
import string
import codecs
f = codecs.open(sys.argv[1], "r", "utf-8" )
u = f.read()
f.close
u = u.swapcase()
f = codecs.open(sys.argv[1], "w+", "utf-8" )
f.write (u)
f.close</pre>

<p>sys.argv[1] contains a name of file with the text from TEA. We read the whole content of that file, then we process this content, and then we write it back to the sys.argv[1]-file. Voila! Please note how to use the codecs.</p> 

<p>And another example - the "inline" calculator. Here we don't use any codecs because we work with a numerical data: </p>

<pre>import sys
f = file (sys.argv[1], 'r')
s = f.read()
f.close
t = eval (s)
f = file (sys.argv[1], 'w+')
f.write (str (t))
f.close
</pre>

<p>But what if we need to get some additional user's parameters to the script? They are available as a string, and you can read it from the file that named at sys.argv[2] (in Python). At Bash-script, use $1 to get the first parameter, and $2 for the second. Summing this all, the second parameter is a file which contains a text from the Famous input field. Note that Ruby scripts take the first parameter in <i>ARGV[0]</i>, and the second in <i>ARGV[1]</i>.</p>

<p>Some notes about the BASH-scripts and sed/ed/etc stuff. The trick is to use a temporal file. First copy the $1 into some temp. file, then process this temporal file and put the result back into the $1. Here is an example (replacing all "dog" with "cat") of such script:</p> 

<pre>cp $1 /tmp/xyz.xyz
sed 's/dog/cat/g' /tmp/xyz.xyz > $1</pre>

<p>If you wish to contribute some scripts to the TEA site scripts repository, please consider contributing your script with a public domain status. Or at least with the Free license. There is also will be useful to put the credits and the description somewhere in the comments in your script.</p>

<p><b>Sort  &gt;  Sort case sensitively</b> - sorts selected lines alphabetically and case sensitively.</p>

<p><b>Sort  &gt;  Sort case sensitively, with separator</b> - sorts substring those separated by the delimiter. Put the delimiter into the FIF, then use this function on the text. Thus, you can sort "three|four|one|two" with the "|" as the delimiter.</p>

<p><b>Sort  &gt;  Sort by length</b> - sorts selected lines by the size. Provide the size at FIF.</p>

<p><b>Sort  &gt;  Flip a list</b> - reverses lines order. Was:</p>

<p>Dog<br>
Cat<br>
Cow</p>

<p>Will be:</p>

<p>Cow<br>
Cat<br>
Dog</p>

<p><b>Sort  &gt;  Flip a list with separator</b> - reverses substrings order separated by the delimiter at FIF.</p>

<p><b>Filter &gt; Remove duplicates</b> - useful when the string list has duplicated elements. Any duplicated item AFTER the original one will be removed. Can be slow on slow machines.</p>

<p><b>Filter &gt; Remove empty lines</b> - no empty lines will surrender! Empty lines are useless. </p>

<p><b>Filter &gt; Remove lines &lt; N size</b> - remove lines with the length less than N. N is the number of characters. Write the number into the Famous input field.</p>

<p><b>Filter &gt; Remove lines &gt; N size</b> - acts like the previous function, but removes all strings those larger than N characters.</p>

<p><b>Filter &gt; by repetitions</b> - leaves strings with the pattern, where "0" is any character, and "1" is the same character.</p>

<p>For example, the pattern for "kitten" will be "001100", where "11" is for "tt".</p>


<p><b>Filter &gt; Filter with regexp</b> - filter a list using the regular expression. For more info, see <a href="http://www.regular-expressions.info">www.regular-expressions.info</a>. However, here is a brief example. Let's presume you have a list:</p>

<p>hello.doc<br>
example.txt<br>
nature.jpeg<br>
mytext.txt</p>

<p>And you want to filter all items with "txt"-extension. So the regexp (regular expression) for this will be:</p>

<p>.*\.txt$</p>

<p>Put it into the Famous input field, select the text and apply a function. Voila!</p>

<p><b>Filter &gt; Remove after delimiter at each line</b>. Removes the substring after the delimiter at each selected line. You need to put the delimiter into the FIF. For example, the delimiter is ")", and the selected text is:
</p>

<pre>1.) Nirvana
2.) Grajdanskaya Oborona
3.) The Cranberries</pre>

<p>Apply the filter, and you'll get this:</p>

<pre>1.
2.
3.</pre>

<p><b>Filter &gt; Remove before delimiter at each line</b>. Removes the substring BEFORE the delimiter at each selected line. You need to put the delimiter into the FIF. For example, the delimiter is ")", and the selected text is:
</p>

<pre>1.) Nirvana
2.) Grajdanskaya Oborona
3.) The Cranberries</pre>

<p>Apply the filter, and you'll get this:</p>

<pre>Nirvana
Grajdanskaya Oborona
The Cranberries</pre>


<p><b>Math &gt; deg min sec &gt; dec degrees</b> converts coordinates from "degrees minutes seconds" format to "decimal degrees". Example: </p>

<p>Was: 40° 26′ 46″ N 79° 58′ 56″ W, result: 40.446° N 79.982° W.</p>

<p><b>Math &gt; dec degrees &gt; deg min sec</b> converts coordinates from "decimal degrees" format to "degrees minutes seconds". Example: </p>

<p>Was: 40.446° N 79.982° W, result: 40° 26′ 46″ N 79° 58′ 56″ W.</p>


<p><b>Math &gt; Sum by last column</b> - sums values of each last column at the selection. For example, we can calculate the simple text list:
</p>

<p>
Carrots 14<br>
Apples 45.8<br>
Oranges 11
</p>


<p><b>Math &gt; Evaluate</b> - calculates the expression that selected at the text. For example you can write 2+2, then select it and apply <b>Evaluate</b>. After such action you shall see the result at the logmemo. In your expression can may use the following operators: +, -, *, /, ^ (power), % (get percent value). The braces are supported. Here are some examples:</p>

<pre>2/3*123
5+5+5
1-200*89
2^8
250%4 //what is 4 per cent of 250?</pre>

<p><b>Math &gt; Decimal to binary</b> - converts the decimal integer into its binary representation. Example: was 255, will be 0000 0000 0000 0000 0000 0000 1111 1111.</p>

<p><b>Math &gt; Binary to decimal</b> - works with unsigned int binary numbers only.</p>

<p><b>Math &gt; Flip bits (bitwise complement)</b> -use this function to flip a bit at the binary value. Example: was 0000 0010, will be 1111 1101.</p>

<p><b>Math &gt; Enumerate</b> - Enumerates lines from the selected text. Place the parameter string of this function into the Famous input field. Syntax: <i>step~zero_padding~prefix</i>.</p>

<p><i>Step</i> is the step of an increment. For example, step 1 gives a numbers 1, 2, 3 etc. Step = 10 will give us 10, 20, 30.</p>

<p><i>Zero padding</i> defines how many digits are in each number. For example, if <i>zero padding</i> = 3, and <i>step</i> = 1, we shall have 001, 002, 003 etc.
</p>

<p><i>Prefix</i> is a prefix after the number and before the string. Prefix can have significant trailing spaces.</p>

<p>Here are some examples and results:</p>

<p>example 1, parameters are "<i>1~3~) </i>" (without quotes). Result is:</p>

<pre>001) dog
002) cat
003) mouse</pre>

<p>example 2, parameters are "<i>10~1 </i>" (without quotes). Result is:</p>

<pre>10 dog
20 cat
30 mouse</pre>

<p>example 3, the parameter is "<i>1</i>" (without quotes). Result is:</p>

<pre>1dog
2cat
3mouse</pre>

<p>You can use this function even without the parameters - in such case, padding = 0, step = 1, and the prefix is an empty string. You can use the single <i>step</i> parameter or the pair <i>step</i> and <i>padding</i>, or all three parameters.</p>

<p><b>Math &gt; Arabic to Roman</b> - converts "usual" numbers into the Roman form (i.e 20 to XX).</p>

<p><b>Math &gt; Subtitles: shift timecode by msecs</b> - shift timecode by msecs.<br>
Open the subtitles file (SRT or Youtube format), select text, put msecs to FIF. msecs can be negative, i.e "-2000" shifts timecodes by 2000 msecs earlier.</p>


<h3>Functions  &gt; Morse code</h3>

<p><b>From Morse To English</b>. I am not a guru in Morse codes, but I hope that my effort to implement such function is right. With this menu item you can translate the English text into the Morse code. For example, was:</p>

<p>tea and coffee</p>

<p>Will be:</p>

<p>- . .- .- -. -.. -.-. --- ..-. ..-. . .</p> 

<p>Note that TEA puts a single space between two Morse codes.</p>

<p><b>From Morse To English</b>. The inverse action for the previous function. You can decode any English Morse-coded message. You must know that TEA supposes that there are single spaces between Morse-codes, as in the example written before.</p>

<p><b>Text  &gt; Compress</b> - removes all whitespaces at the selection.</p>

<p><b>Text  &gt; Anagram</b> - find all anagrams of the selected text. Can be VERY slow and eats a lot of memory if the word is large. So TEA will not froze, it just thinks. Anagram example for "dog":</p>

dgo<br>
dog<br>
gdo<br>
god<br>
odg<br>
ogd<br>
<br>

<p><b>Text  &gt; Remove formatting at each line</b> - removes the formatting (tabs, new lines, double spaces etc.) at each selected line.</p>

<p><b>Text  &gt; Remove formatting</b> - removes the formatting from the whole selected text, so the text will be converted to the one big  string without new lines, double spaces, etc.</p>

<p><b>Text  &gt; Apply to each line</b> is a powerful tool to add some text into each line of the selection.  And again we use the Famous input field. For example, I want to add br-tag at the end of each line. So I type into the entry:</p>

<p>%s&lt;br&gt;</p>

<p>And then I apply this function to get br-tag added at the end of each line. The %s macro points to each line of the selection. So consider that the %s represents a text of each line. In another example, I want to enclose each line into a pair of li-tags. The formula for the Famous input field will be:</p>

<p>&lt;li>%s&lt;/li&gt;</p>

<p>And another example:</p>

<p>&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;</p>


<p>You can also apply the snippets (from the TEA's snippets directory). To do such thing, use the <i>@@snippetname</i> at the FIF. For example, if you have the snipped named "myitalic", use <i>@@myitalic</i>. As you remember, snippets can contain the %s macro to substitute the selected text. In the case of "Apply to each line" function, %s will mean the text of each selected line.</p>

<p><b>Text  &gt; Escape regexp</b> useful to escape regexp special characters such as $, *, +, [, ], etc .</p>


<p><b>Text  &gt; Check regexp match</b> check the selected text against the regexp (put the regexp to FIF).</p>


<br><br>
<a name="mni_spell"></a>
<h3>Functions  &gt; Spell-checking</h3>

<p>TEA can use the power of two spell checking engines: Aspell and Hunspell. TEA can be built with or without them. In a positive case, to switch between engines use the list <b>Spell checker engine</b> at <b>Options - Functions</b> page.</p>

<p>Aspell engine uses system-wide installed dictionaries (use your Linux distro package manager to install them). At the Windows, you need some extra things to do. First, download and install Aspell full installer from the <a href="http://aspell.net/win32/">http://aspell.net/win32/</a>. Then, from the same page, download and install some dictionaries. You need to put them into the directory, where Aspell is installed. By default, it is C:\Program Files\Aspell. Finally, at TEA, you need to set the path to the Aspell - go to the <b>Options - Functions</b>, change the <b>Aspell directory</b> option to the correct one and restart TEA.<p>

<p><b>For Hunspell, you also need to set the path to the dictionaries by yourself, manually</b>. It is possible that the dictionaries are already installed because Hunspell is the spell checking engine for Firefox and LibreOffice.org. For example, Firefox (in a case of the user local home directory installation) holds the dictionaries at <i>firefox/dictionaries</i> directory. Also you can download dictionaries from LibreOffice extension repositories.</p> 

<p>There are files with OXT extension. Internally they are common ZIP-files. So  download and rename filename.oxt tofilenname.zip. Create some directory for dictionaries and unpack the <i>.aff</i> and <i>.dic</i> files from ZIP. Then select this directory using <b>Select</b> button at the <b>Options - Functions - Hunspell dictionaries path</b> option.</p> 

<p>When the dictionary stuff is configured, you need to go to the menu <b>Functions - Spell checker languages</b> and select the language what you need. Without this last step the spell checking will fail. Also <b>select the language</b> in this way after you change the engine from Aspell to Hunspell or vice versa.</p>

<p>It's a good idea to restart TEA after adding the dictionary.</p>

<p><b>Spell-checker languages</b> -  At this menu you can find the list of dictionaries which installed for aspell (from the distro or so). To spell check, use one of those menu items. It works with the whole text, not with the selection only.</p>

<p>The menu item with the language name is used also to set the default spell-checker language. The default value is a language of your locale. To do a simple check with the default (last selected) language, use <b>Spell check</b> menu item.</p>

<p><b>Suggest</b> - shows the list with suggestions for the current misspelled word (actually, the word under the cursor). To use this function, use <b>Spell check</b> first. Possibly incorrect words will be underlined.</p>

<p>You can fix them with the <b>Suggest</b> functions or by the hand. When you fix the error you can see that the fixed word is colored as before. That is because the nature of the TEA spellchecker - it updates manually, so to update error marks select the same spell checking menu item again. To turn error marks off, use <b>View &gt; Hide error marks</b>.</p>

<p><b>Add to dictionary</b> - add the <u>underlined as incorrect</u> word to the user's local dictionary. Actually, this function adds to the dictionary any word at the cursor.</p>

<p>Beware that some correct words TEA can mark as incorrect. It's due to the current word parsing, it will be fixed soon as possible.</p>

<p><b>Remove from dictionary</b>- this function is Hunspell-only. An updated dictionary will be loaded after the next session.</p>
<br>



<br><br>
<a name="mni_ide"></a>
<h3>IDE</h3>


<p>TEA has some basic IDE functions. The use TEA as IDE is simple.</p>

<p> The first, you need to create the project file. To do this, just create the new file and insert TEA project file template from <b>Functions - Place - TEA project template</b>.
</p>

<p>Save it at the your project's source top directory, under any file name, but with the "teaproject" extention, i.e. <i>filename.teaproject</i>.</p>

<p>teaproject file is a simple key=value text file. It holds the project settings. Thus, you can hold many teaproject file at the same directory. Here are, for example, TEA's teaproject files for different build systems (qmake, cmake and meson):</p>

<p>tea-make.teaproject</p>

<pre>command_build=make
command_clean=make clean
command_run=bin/tea --m&</pre>

<p>tea-meson.teaproject</p>

<pre>dir_build=b
command_build=ninja
command_clean=ninja -t clean
command_run=./tea --m&</pre>

<p>tea-cmake.teaproject</p>

<pre>dir_build=cmake
command_build=make
command_clean=make clean
command_run=./tea --m&</pre>

<p>The syntax is clear:</p>

<p><i>dir_build</i> - the directory, where <i>command_build</i> will run for the building. If there is no <i>dir_build</i>, then the teaproject file directory will be used as <i>dir_build</i>. The directory can be absolute, if not, the relative one to the teaproject file directory will be used.</p>

<p><i>command_build</i> can be any, as you wish: make, ninja, etc.</p>

<p><i>command_run</i> - runs at <i>dir_build</i> to run compiled binary.</p>

<p><i>command_clean</i> - runs at <i>dir_build</i> to clean the project.</p>

<p>When you open, save or switch (by the tab) to the teaproject file, TEA reads it into the inner structures and uses the commands from teaproject when run menu items from <b>IDE</b> menu: <b>Run program</b>, <b>Build program</b>, <b>Clean program</b>. Please note that TEA reads the SAVED contents of the teaproject file, not the current edited state.</p>

<p>The <b>IDE</b> menu is useful in a pair with <b>View - Profiles</b> menu. For example, you can create the "ide-profile" with some font settings, wide window, no word wrap; and "text-profile" with another font set, word wrap, smaller window, etc. Then you can quickly switch between the profiles via menu or by the hotkeys.
</p>

<p>When building program, TEA shows compiler output at Logmemo. Double-click on the bold text (filename:line:column) to open the error or the warning place at the editor.</p>


<br><br>
<a name="mni_run"></a>
<h3>Run</h3>

<p>This menu is designed for running the current file with external programs, browsers for example. To add some items to menu, go to <b>File &gt; Configs &gt; Programs list config</b>, edit that file and then save it. The configuration file has the simple ini-like format. Each line has the following format:</p>

<p>meni item caption=command line</p>

<p>An example of the command line for a browser starting:</p>

<p>FF=firefox %s</p>

<p>%s is a needful macro for a current filename, so use it in the proper place. For Win32 you need to use the full path for the executable file, with the double quotes (macro %s needs its quotes too!). For example:</p>

<p>opera="C:\Program Files\Opera\opera.exe" "%s"</p>

<p>Some more precise macros are available: %basename, %filename, %ext, %dir. This allows to use the parts of the path. Thus, if we have the full path "/mnt/foo/bar.txt", %dir = "/mnt/foo", %basename = "bar", %filename = "bar.txt", %fext = "txt". So the full path at the command line can be presented in the following way: %dir/%basename.%ext
</p>

<p>To open the <b>currently selected file</b> or <b>file at cursor</b> at the text (as by F2, but with an external program) use %i macro.</p>

<p>For example, if you want to open the image file with gimp, put the following command line to the config file:</p>

<p>gimp=gimp %i</p>

<p>Then, at HTML or LaTeX file, move the cursor to the image file name. Then call "gimp" menu item from the "Run" menu. Enjoy.</p>

<br>
<a name="mni_nav"></a>
<h3>Nav</h3>

<p><b>Labels, Update labels</b>. You can put some specially formatted labels into the text and then switch between them from the <b>Labels</b> menu (or <img src=":/icons/labels.png" border="0" alt="" width="24" height="24"> drop-down list on the toolbar). How does it work? The label is just a text embraced with the opening and the ending sequences ("[?" and "?]" by default, this values can be redefined at <b>Options - Functions - Labels</b>).</p>

<p>For example, put into your text some lines such as "[? dogs ?]", "[? cats ?]". Then make TEA know this labels using <b>Update labels</b> menu item or press the <img src=":/icons/labels.png" border="0" alt="" width="24" height="24"> button on the toolbar. The <b>Labels</b> menu and <img src=":/icons/labels.png" border="0" alt="" width="24" height="24"> drop-down list will be filled with labels "dogs" and "cats". You can select them from the menu or the list and navigate to the text near the selected label. Please note that labels are updating manually only.</p>

<p><b>Go to line</b> - moves the cursor position to the line number that you provide in the Famous input field.</p>

<p><b>Save position/Go to saved position</b> - these functions are good to make a quick jump through a large text, when you need to look something at the one place, then return to the currently editing place, etc.</p>


<br>
<a name="mni_fm"></a>
<h3>Fm</h3>

<p><b>Fm</b> is meaning the <b>File manager</b>. This menu contains functions those related to TEA file manager. For example, you can rename files or directories or get the MD5 checksum. Explore and use!</p>

<p>For some function such as <b>MD5 checksum</b>, select the file first, and then apply the function.</p>

<p><b>Fm &gt; Multi-rename</b> submenu helps to flexibly rename file names. All those functions use the parameter from FIF.</p> 

<p><b>Fm &gt; Multi-rename &gt; Zero pad file names</b> - prepend zeroes to each selected filename that has the numbering as the part of file name. For example: page1, page100. Such files cannot be sorted properly.</p> 

<p>So set the filename length at FIF. Files will be numbered correctly, but with the removal of all non-digit characters. Example:</p> 

<p>We have files:<br>
page1.txt<br>
page100.txt
</p>

<p>Put 5 to the FIF, apply the function.</p>

<p>Now we have:<br>
00001.txt<br>
00100.txt
</p>

<p><b>Fm &gt; Multi-rename &gt; Delete N first chars at file names</b> - N is a number from FIF. Deletes N first characters from each selected file name.</p> 

<p><b>Fm &gt; Multi-rename &gt; Replace in file names</b> - replaces the substing at each selected file name. FIF format: <i>old~new</i>. Example: .jpeg~.jpg</p> 

<p><b>Fm &gt; Multi-rename &gt; Apply template</b> - apply the template to each selected file name. Available macros with parts of the original file name: %filename (= filename.ext), %ext (= ext), %basename ( = filename). For example, you need to rename 01.jpeg, 02.jpeg to 01.jpg, 02.jpg. So the template must be: <i>%basename.jpg</i>, i.e. %basename (file name without extension) will be appended with ".jpg".
</p> 

<p><b>Fm &gt; Select by regexp/Deselect by regexp</b> - use this functions to select or deselect files by regexp pattern. For example, to select all txt-files at the current dir, put the following regexps into the FIF:"<i>.*\.txt$</i>" (without quotes!) then, use <b>Select by regexp</b>. Then you can press Open button to open all selected files.</p>

<p><b>Fm &gt; File information &gt; Full info</b> - gives you a full information about the file (creation/modification time, etc). For the 16 bit PCM WAV files it calculates the RMS (for the both channels). For other WAV's shows just the properties such as bit depth, etc.</p>

<p><b>Fm &gt; File information &gt; Count lines in selected files</b> - please note that empty lines will be also counted.</p>

<p><b>Fm &gt; Images &gt; Scale by percentages/Scale by side</b> - among other non-text related functions TEA has the ability of batch conversion of images. It is useful when you want to scale them or convert to another format.</p>

<p>For example, we want to scale selected images by 50 per cents, put the processed images into the new directory and zip that directory:</p>

<p>1. Select files at the File manager. To select them multiply, use Ctrl-Click (or Ctrl-A to select all).
<br>
2. Put the desired percentage into the Famous Input Field. The value must be a simple integer number without the % sign.<br>
3. At the <b>Options &gt; Images</b> check the <b>Zip directory with processed images</b> option.<br>
4. Apply the <b>Scale by percentages</b> function.</p>

<p>After that, TEA creates a new directory as a subdirectory of a current one. This new directory has the random name that starts with "images-out-". Into this directory TEA put all converted images, leaving the originals unmodified.</p>

<p>You can want to scale images in a more precise way and define the size manually. To do that, put the image side size into the Famous Input Field and apply <b>Scale by side</b>. As you know, each photo has dimensions. For example, 640x480. If the width is larger than height, the image has a horizontal orientation (TEA does not support EXIF data), and vise versa. So we can use the <i>side</i> - the larger side of an image. Usually all photos have a standard dimensions with some aspect ratio in a mind, so the larger side for all of photos is the same.</p>

<p>For example, we want to scale all images (photos with a right aspect ratio/dimension) to width 640 and, if the image has a vertical orientation, to the height 640. Put that 640 into the Famous Input Field and apply <b>Scale by side</b>.</p>

<p>Image conversion options are places at the <b>Options &gt; Images</b> page. With the <b>Image conversion output format</b> list you can set the output format. The <b>Output images quality</b> (from 0 to 100) is used mainly for JPEG. A default value is -1 that means the internally defined value. The <b>Scale images with bilinear filtering</b> checkbox affects images when you scale them, to smooth the image and make it less "rough".</p>

<p><b>Fm &gt; Images &gt; Create web gallery</b> - yes, TEA can create the simple oldschool table-based web gallery. Do the following steps:</p>

<p>1. Put your images in some directory. Save the html-file there. Open that file with TEA.<br>
<p>2. Go to the TEA's file manager, select image files those you want to put into the web gallery.<br>
<p>3. Use the <b>Create web gallery</b> function.<br>
<p>4. The thumbnails and the HTML-table shall be created.</p>

<p>You can customize the gallery using the <b>Options  &gt;  Images  &gt; Web gallery options</b>. There is a thumbnail size, cells per row, et cetera.</p>


<p><b>TEA as a ZIP packer/unpacker</b></p>

<p>TEA provides simple functions to pack files (not directories) to the archive. To do such thing, set the archive name first (do that at the directory where you want to create the archive):<br>
<b>Fm &gt; ZIP &gt; Create new ZIP</b><br>
The input dialog box will be provided. Then, walk through your directories. Select any files and use <b>Add to ZIP</b> to add them into the archive. Please note - all that happens virtually until you do not use a <b>Save ZIP</b> function. To pack the files physically, apply <b>Save ZIP</b>.</p>

<p>All files will be packed into the archive that has a one subdirectory names as the archive name, but without .zip-extension.</p>

<p>You can also unpack the selected ZIP-file into the current directory. Use the <b>Unpack ZIP to current directory</b> function. Please note that the file names charset (inside of the ZIP-archive) are controlled via <b>Options - Common - ZIP unpacking: file names charset/ZIP packing: file names charset</b>  options. So, if you see weird characters after you unpacked ZIP-file, try to Options the charset. To do this less painful, select some charset at <b>ZIP unpacking: file names charset</b> and try how is looking file name - use <b>List ZIP content</b> menu item. It simply lists the archive content (file names) into the Logmemo using selected charset.</p>

<p>And another note - TEA does not support password-protected ZIPs.</p>

<br>
<a name="mni_view"></a>
<h3>View</h3>

<p><b>Highlighting mode</b> - from this submenu you can set the highlighting mode manually. It is useful for new unsaved files or for a file without extensions.</p>

<p><b>Hide error marks</b> - hides the underlined marks those were set by the spell-checker.</p>

<p><b>Toggle word wrap</b> - turn word wrapping on/off for the current document.</p>

<p><b>Palettes</b> - from this submenu you can select the color scheme that affects a text editing area. To define your own colors you can create your own palette based on some build-in palettes (see the source directory, palettes subdir). Then save your palette into the <i>$HOME/.config/tea/palettes</i> directory and choose one from the <b>Palettes</b> menu.</p>

<p>TEA partially supports Eclipse IDE themes (<a href="http://eclipsecolorthemes.org">eclipsecolorthemes.org</a>) - just put XML file of the theme to TEA palettes directory and select it from the menu as the native TEA palette. It is a miracle! Please note that TEA palette format supports more highlighting elements than Eclipse Color Theme plugin, so Eclipse themes will be not so colorful as TEA native palettes.</p>

<p><b>Profiles</b> - this menu allows you to switch between view profiles (they includes parameters such as window position, size, fonts, word wrap and line numbering settings, etc.). So you can save your current settings via <b>Save profile</b> function, and named profile will appear in the <b>Profiles</b> menu. In any time you can select it to recall saved settings.</p>


<p><b>Keyboards</b> - the list of user-defined keyboards. TEA show such "keyboard" as the window with buttons. Each button can be the letter or the word or any string, to simplify inputm for example, foreign alphabet letters or difficult words.</p>

<p>The "keyboard" is a simple text file that you put to <i>$HOME/.config/tea/keyboards</i> directory. Each line of the file contain letters or words separated by "|", for example:</p>

<p>
dog|cat<br>
apple|orange
</p>


<br>
<a name="mni_prefs"></a>
<h3>Options tab</h3>

<p>On <b>Keyboard</b> tab you can assign the shortcuts with the menu items. To set a new hotkey, select a menu item from the list, then press some hotkey combination at the entry to the right from the list, and press the <b>Assign</b> button. To remove a hotkey, select the menu item from the list and press <b>Remove</b> button. To reassign the hotkey that already in use, do <b>Remove</b> for this shortcut first.</p>

<p>For Linux, you can use the joystick/joypad to scroll the text and move the cursor. It is disabled by default and can be enabled via <b>Preferences - Common - Use joystick as cursor keys</b>. When enabled, it reads joystick device each 100 milliseconds. I was needed in joystick support to scroll texts for Youtube online videos, when I need to sit in the same position.
</p>

<p><b>Word wrap</b> - use word wrapping globally for all documents, including new ones.</p>

<p><b>Use wrap setting from highlighting module</b> on the <b>Interface</b> page means that the word wrap settings will be taken from the syntax highlighting modules, not from the global <b>Word wrap</b> option. Some modules have word wrapping turned on, and some turned off. For example, for C++ the word wrap setting is on. For the plain text or for the HTML - is off.</p>

<br>
<a name="mni_keyb"></a>
<h3>Keyboard</h3>

<p>In addition to the standard keyboard operations TEA supports left-handed cursor operations those can be enabled at <b>Options - Common - Use Left Alt WASD</b>.</p>

<p>When enabled, use Left Alt plus WASD for cursor movement, Left Alt plus E and C for page up/down. Use Left Win key with WASDEC to select the text.</p>


<br>
<a name="mni_autosave"></a>
<h3>On autosaving</h3>

<p>TEA has some features related to the auto-saved files.</p>

<p>The first one is saving on unsaved files. When you create a new file, it exist as the buffer. You use "Temporary save unsaved buffers on exit" option (at <b>Options - Common</b>). If it is turned on, TEA save such buffers on TEA exit (not on the closing buffer tab manually), and then restores them on the next start. So, it is like the session saving. But, if you just close some unsaved file tab, it will not be saved.</p>

<p>Another option there, is "Autosave buffers and autosaving files (each N seconds)". It saves buffers each N seconds, also it saves the ordinary files that checked as "autosaved". You can set/unset file as autosaved at <b>File - File actions - Set as autosaving file/Unset the autosaving file</b>. Such autosaved files also automatically saved when you close them.</p>

<br>
<a name="mni_secret"></a>
<h3>The secret power</h3>

<p>Know the truth! The reptiloids will prevail over the humankind if you do not have the courage and the knowledge of TEA secret options. They don't have GUI and you need to add and edit them manually to the TEA main config file $HOME/.config/tea\tea.conf (or, under Window, at drive:\Documents and Settings\username\tea\tea.conf). Some of the changes will work after TEA restart. So know the truth:</p>

<p><i>recent_list.max_items=maximum recent list items, default 21</i></p>

<br>
<a name="mni_notes"></a>
<h3>Notes</h3>

<p>The legacy "--charset=codepage" command line option is supported. This command sets the codepage for the following files. For example:</p>

<p><i>tea --charset=window-1251 file1.txt file2.txt --charset=utf-8 file3.txt</i></p>

<p>By default (if no charset defined manually) TEA uses UTF-8.</p>

<p>This manual and all TEA media stuff (palettes, images, etc) is the public domain. TEA source code is licensed under GPL v3 and public domain.</p>

<p>User's syntax hl files can be added to the <i>$HOME/.config/tea/hls</i> directory. See the working hl files at the TEA source directory, the <i>hls</i> subdirectory. Feel free to contribute your hl files. Please use color references from the palette files (look at <i>palettes</i> directory at the source). I.e. use "preproc" or "types" color instead of the hexadecimal value.</p>

<br>
<a name="mni_author"></a>
<h3>Other projects by the author</h3>

<p><a href="http://semiletov.org/">My home site with the prose, programs, music and other things.</a></p>

<p><a href="http://semiletov.org/">My home site with the prose, programs, music and other things.</a></p>

<p><a href="https://www.bandlab.com/peter_semiletov">My music</a></p>


<br>
<a name="mni_donate"></a>
<h3>Support the development</h3>

<p>If you want to support TEA development, here is <a href="https://www.patreon.com/semiletov">my Patreon page.</a>.</p>



</body>
</html>
