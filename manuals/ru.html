<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Руководство</title>
</head>
<body>
<h1>Руководство к действию</h1>
<br>
<h2>Содержание</h2>
<br><br>

<a href="#mni_intro">Введение</a><br>
<a href="#mni_interface">Интерфейс</a><br>
<a href="#mni_todo">Панель Даты</a><br>
<a href="#mni_fman">Файловый приказчик</a><br>
<a href="#mni_file">Файл</a><br>
<a href="#mni_edit">Правка</a><br>
<a href="#mni_markup">Вёрстка</a><br>
<a href="#mni_search">Поиск</a><br>
<a href="#mni_calendar">Календарь</a><br>
<a href="#mni_functions">Функции</a><br>
<a href="#mni_spell">Функции - Проверка правописания</a><br>
<a href="#mni_run">Запуск</a><br>
<a href="#mni_ide">ИДЕ</a><br>
<a href="#mni_fn_man">Фп</a><br>
<a href="#mni_nav">Нав</a><br>
<a href="#mni_view">Вид</a><br>
<a href="#mni_prefs">Настройки</a><br>
<a href="#mni_keyb">Клавиатура</a><br>
<a href="#mni_autosave">Слово про автосохранение</a><br>
<a href="#mni_secret">Тайная власть</a><br>
<a href="#mni_notes">Примечания</a><br>
<a href="#mni_author">Другие проекты автора</a>
<a href="#mni_donat">Поддержать разработку</a>

<br>

<a name="mni_intro"></a>
<h2>Введение</h2>

<p>История TEA началась в 2000 году, когда я, тогда еще пользователь Windows, для своих нужд создал текстовый редактор Typewriter. Спустя год я понял, что редактор может пригодиться не только мне, и поделился им с миром, переименовав в TEA. Эту историю подробно можно прочесть на страничке <a href="http://semiletov.org/tea/museum.html">Музей ТИА</a>.
</p>

<p>Редактор был написан на Delphi и развивался ударными темпами, пока в 2003 году моей основной системой не стал Linux. В нем я воссоздал TEA с нуля, уже на языке Си с использованием тулкита Gtk+2. Конечно, имелись отличия между вындовой и линуксовой версиями, к тому же я продолжал работать над вындовыми ипостасями ТИА уже на других движках, что продолжалась по 2006-2007 годы.</p>

<p>К 2007 году я воплотил в линуксовом ТИА всё, что мне тогда было нужно. Он был портирован на тучу систем. Он работал, как часы. Исходник мне не нравился, ибо когда я начинал писать линусковый ТИА, то откат от ООП к процедурному программированию на Си и псевдо-ООП GTK плохо сказался на архитектуре программы. Мне не хотелось больше возиться с исходником, он был плох. Тогда я решил написать маленький офисный пакет, на С++, и избрал в качестве тулкита Qt. Вместо офисного пакета у меня снова стал получиться ТИА, поэтому я заморозил разработку сишного ТИА на GTK и продолжил разработку уже на C++/Qt. Вы читаете руководство как раз к этой испостаси ТИА.</p>

<p>ТИА всегда отражает мои текущие потребности в функциях текстового редактора. С самого начала интерфейс был вдохновлен двумя программами из звукомузыкального мира, Sound Forge и Impulse Tracker. Ощущение от последнего вылилось в интерфейс, где всё разбито на экраны (в современном контексте вкладки), а из Sound Forge я взял основной принцип - выделить данные, применить к ним эффект. В случае ТИА - функцию обработки текста.
</p>

<p>Поскольку я использую ТИА постоянно, многократно каждый день, это является гарантией, что программа работает надежно. Со всеми ошибками я сталкиваюсь первым.</p>

<p>У TEA два сайта: <a href="http://semiletov.org/tea">semiletov.org/tea</a> и <a href="http://tea.ourproject.org/">tea.ourproject.org</a>. Если один не работает, зайдите на другой. Есть еще третий, на SourceForge, он не обновляется, а с SourceForge невозможно удалить проект, поэтому я оставил там сайт, чтобы не было пустой страницы.</p>

<p>Пара слов о запуске TEA. В обычном режиме TEA хранит файлы настройки и прочие сопутствующие в $HOME/.config/tea (а под Windows в диск:\Documents and Settings\имя пользователя\tea). И это здорово! Но у некоторых пользователей возникает желание использовать portable-вариант TEA, запуская его например с флэшки. В таком случае надо, чтобы TEA хранил свои настройки на самой флэшке в каталоге, где находится исполняемый файл TEA. Чтобы TEA понял, откуда ему читать свои данные и куда их писать, есть ключик командной строки "--p". Если запустить TEA вот так: "tea --p", то редактор будет запущен в portable-режиме, и файлы его настроек и сопутствующие (включая crapbook, сниппеты и т.д.) будут сохраняться/читаться в каталоге с исполняемым файлом TEA, то есть на флэшке. А если запускать без ключика "--p", то всё будет как обычно, с настройками из стандартного места хранения. Настройки portable и обычного режима не переносятся автоматически туда-сюда и существуют параллельно.</p>

<p>Я видел в сети какие-то вындовые portable-версии TEA, так вот, их делал не я, я не знаю как они работают и что туда сунули. Официальная "моя" вындовая сборка выкладывается на гитхабе программы и доступна по ссылке с офсайтов ТИА. Оттуда, кажется, ТИА попадает на разные софтпорталы, и это хорошо, лишь бы не делали репаки.</p>

<p>TEA в сборке для *NIX представляет собой один бинарный файл - "tea". Для запуска Windows-версии TEA достаточно содержимого каталога, куда установлен TEA - там есть все нужные ему библиотеки.</p>


<br>
<a name="mni_interface"></a>
<h2>Интерфейс</h2>

<p>Ежели считать сверху вниз, то в главном окне расположены:</p>

<p>1. <b>Главное меню</b>. Обратите внимание, что у каждого подменю есть эдакая полоска отрыва. Если взяться за нее, то подменю можно оторвать и поместить где-нибудь в сторонке. Меню зависит от текущей задачи. Например, в задаче "Правка" будут одни пункты, в "Наладке" часть скроется, в "Файлах" часть откроется. Это сделано, чтобы TEA не занимал много места в ширину. Экраны-то разные бывают. Забота о ближнем!</p>

<p>2. <b>Область инструментальных панелей</b>. Вообще говоря, панели эти перемещаются и вовне главного окна, а паркуются по внутренним его краям сверху, снизу, слева и справа. Чтобы отключить панель, сделать ее невидимой, щелкните на ней правой кнопкой мыши. Появится меню, в котором поставьте либо снимите галочку с названия панели. Если все панели выключены, то для вызова контекстного меню панелей щелкните правой кнопкой мыши по главному меню.</p>

<p>3. <b>Область вкладок</b>. Состоит из пяти основных вкладок, соответствующих разным задачам. <b>Правка</b> - тут открываются документы, тоже каждый в своей вкладке. <b>Файлы</b> - файловый приказчик. О нем подробно в следующей главе. <b>Наладка</b> - под этой чудной надписью скрываются настройки. То, что в других программах обычно выносится в отдельное окно Настроек, в TEA находится в том же окне, где всё остальное. Изменение настроек сразу же вступает в силу и сохраняется автоматически. <p>Даты</p> - тут календарь с возможностью ведения разных дел. Становится доступным и особое меню. Наконец, на вкладке <b>Руководство</b> доступно руководство, которое вы сейчас читаете. Спасибо вам за это!</p>

<p>4. <b>Логмемо</b>. Этим ужасным названием именуется область, куда выводятся всякие сообщения. Эти всякие сообщения могут просто отмечать, что  файл был сохранен, а могут и уведомлять про ошибку - как правило, текст сообщения при этом назойливо-красный, чтобы привлечь ваше внимание.</p>

<p>5. <b>Знаменитое поле ввода (ЗПВ)</b>. Служит для ввода всяких параметров для функций обработки текста, а также для поиска и замены введенных слов. Подробности читайте в разделе про меню <a href="#mni_search">Поиск</a>. ЗПВ работает для поиска как в тексте документа, так и руководства, которое вы сейчас читаете. А также умеет искать в списке пунктов меню для "горячих клавиш" и в файловом приказчике.</p>

<p>6. <b>Строка состояния</b>. Её содержимым можно управлять через настройки - например, отключить отображение положения курсора. Вычисление этого положения отнимает некоторый процессорный ресурс, что может быть заметно на совсем стареньких компьютерах при редактировании больших текстов.</p>

<br>
<a name="mni_todo"></a>
<h2>Панель Даты</h2>

<p>Это только с виду - обычный календарь. В него можно записывать всякие дела. Дважды щелкаем мышью по дню - и создается или открывается файл с таким же именем, как выбранная дата. Вписали туда что надо, закрыли - файл сам по себе сохранился где надо. А точнее, в служебном каталоге TEA. А если просто один раз на дате щелкнуть, то, ежели есть запись по дню, она покажется в логмемо.</p>

<p>В тексте записи можно еще указать время, чтобы напомнить себе о важном деле. Просто в тексте надобно предварить напоминание временем в квадратных скобках, в 24-часовом формате [чч:мм]. То есть ежели надо написать 9 утра, то пишем [09:00], а не [9] и не [9:0]. Помним про нули! Вот примеры:</p>

<p>[20:00] сходить в театр<br>
[21:00]посетить буфет и туалет, как будто в театр ходят чтоб пожрать и</p>

<p>Напоминалки TEA показывает в отдельном окне в левом верхнем углу экрана. Происходит сие зачастую с опозданием в пределах меньше одной минуты - так уж программно сделано.</p>

<p>Чтобы удалить запись, относящуюся к выбранному дню, воспользуйтесь пунктом меню <b>Календарь &gt; Удалить данные о дне</b>.</p>

<p>Календарь может работать в режиме лунного, для этого есть переключатель в меню <b>Календарь - Лунный режим вкл/выкл</b>. Больше о функциях, связанных в календарем, читайте в разделе <a href="#mni_calendar">Календарь</a>, а покамест отмечу еще две штуки. Лунные дни вычисляются по такому-то алгоритму, который выбирается в <b>Наладка - Общие - Алгоритм фазы Луны</b>. Там же, для правильного отображения фаз, надобно выбрать, где вы находитесь - в северном или южном полушарии. Когда Луны не видно, это не ошибка, а новолуние.</p>

<p>В "лунном" режиме, даты в календаре отображаются через косую черту. Сначала идет "григорианский" номер дня, потом, через косую черту - лунный день.</p>

<br>
<a name="mni_fman"></a>
<h2>Файловый приказчик</h2>

<p>Поясню, почему приказчик. В русском языке есть отличные слова - приказчик, управляющий. Нет нужды в "менеджере".</p>

<p>Этот приказчик в TEA служит вместо набивших оскомину диалоговых окон Открыть файл/Сохранить как. Впрочем, можете пользоваться ими, поставив галочку в настройках на <b>Наладка &gt; Общие &gt; Использовать традиционные окна Открыть/Сохранить</b>.</p>

<p>Давайте разберемся, как работать с файловым приказчиком. Клавиша Backspace позволяет перейти в каталог выше уровнем.
В самом верху приказчика находится  текстовое поле, отображающее путь текущего каталога. Можно набрать там другой каталог и нажать "Enter" или кнопку "Перейти". Справа от поля - панель с кнопками:</p>

<p>Кнопка <b>Перейти</b> - направляет приказчика в каталог, указанный в поле.</p>

<p>Кнопка <b>Домой</b> - переносит вас в домашний каталог.</p>

<p>Кнопка <b>Освежить</b> - обновить содержимое дерева файлов.</p>

<p>Кнопка <b>Действия</b> - открывает подменю, из которого можно переименовать выделенный файл или каталог, удалить файл либо создать новый каталог. Эти же функции повторяются в пункте <b>Фп</b> главного меню. Зачем? Чтобы вы могли навесить на них свои сочетания клавиш.</p>

<p><b>Теперь поглядим на правую панель приказчика</b>.</p>

<p>Сверху ее расположено поле имени файла. Чтобы открыть файл, можно вписать туда его имя и нажать кнопку <b>Открыть</b>. Имя может быть как полным путем, как и просто названием файла - в последнем случае подставляется текущий каталог. В поле работает клавиша Enter - в зависимости от того, как вы попали на его вкладку - через пункт меню <b>Открыть</b> или <b>Сохранить как</b>. Если первое, то Enter открывает вписанное имя файл, второе - сохраняет.</p>


<p>Дабы открыть несколько файлов, выделите их в списке файлов (с помощью нажатой клавиши Ctrl и мыши, либо клавиши Insert вы можете выделять несколько пунктов) и нажмите опять-таки кнопку <b>Открыть</b>. Рядом с полем имени файла есть список кодировок. Все файлы открываются согласно выбранной кодировке. Для автоматического определения кодировки установите на файл курсор и нажмите кнопку со знаком вопроса, расположенную справа от списка кодировок. TEA попытается определить кодировку и выберет её в списке. В ТИА встроен определитель кодировок, который распознает кодировки HTML-файлов, а также обычных текстовых, если они в русских или украинских кодировках. Для всех других языков удобно дополнительно припахать внешнюю утилиту Enca, включив ее использование в <b>Наладка - Общие</b>.</p>

<p>Файл можно открыть также двойным щелчком по его имени в списке файлов.</p>

<p>А чтобы сохранить текущий файл под нужным вам именем, достаточно вписать это имя в поле имени файла и нажать кнопку <b>Сохранить как</b>. По умолчанию TEA настроен таким образом, что при выборе пункта меню <b>Сохранить как</b> или <b>Открыть</b> вы переноситесь в файловый приказчик, где и делаете всё, что вам нужно.</p>

<p>Еще ниже - панель закладок. Вот уж лепота так лепота. Кнопкой <b>+</b> туда добавляется закладка на текущий каталог, а кнопкой "-" удаляется выбранная в списке закладка. Двойной щелчок по закладке - и приказчик переносит вас в нужный каталог. Первые пункты в списке - шаблоны, сниппеты и тому подобное - предустановленные, их удалять нельзя. С их помощью вы попадаете в каталоги шаблонов и сниппетов, которые TEA отображает в особых менюшках.</p>

<p>Если поставлена галочка в <b>Наладка &gt; Общие &gt; Авто-показ картинок в файловом приказчике</b>, то при установке курсора на файл с картинкой, эта картинка будет показана уменьшенной в окошке рядом с окном TEA. Другой способ просмотра картинки - нажать на ее файле F2 (меню <b>Файл &gt; Открыть под курсором</b>).</p>


<br>
<a name="mni_file"></a>
<h2>Файл</h2>

<p><b>Новый</b>. Создает новый пустой документ. Можете текст набирать, а можете просто на белый фон смотреть.</p>

<p><b>Открыть</b> - открыть файл. Появится файловый приказчик либо диалоговое окно открытия файла (смотря по настройкам). Там есть список "Кодировка". Выберите нужную, потом открывайте файл. Пользователи Windows версии 10, стандартная русская кодировка в этой системе - Windows 1251. Кнопочка "?" справа от списка кодировок - чтобы TEA попытался определить кодировку выбранного файла автоматически. Чтя историю, ТИА поддерживает древние славянские кодировки Windows 1251, KOI8-R, KOI8-U, DOS 866. Но в обиходе я советую использовать универсальную UTF-8.</p>

<p>Вообще почитайте главу <a href="#mni_fman">Файловый приказчик</a> - там подробно описано, как с ним работать для открытия и сохранения файлов. Диалоговые окна не столь удобны.</p>

<p>О поддерживаемых форматах. TEA читает/пишет обычные текстовые файлы, а также может вытаскивать текст из ODT (OpenOffice.org Writer),  FB2, DOCX, RTF, KWD (старый формат KWord), ABW (Abiword) и SXW (старый формат OOo/StarOffice). А еще читает файлы, сжатые gzip'ом. Относительно офисных форматов, то поддержка их в состоянии разной степени кривизны. Но читать можно. Если же ТИА собран с поддержкой PDF и DJVU, то ТИА тоже умеет вытаскивать из них текст. Но такая поддержка тянет за собой дополнительные библиотеки и утяжеляет ТИА.</p>

<p><b>Сохранить</b> - сохранить файл. Если он не был сохранен ранее, то редактор спросит, под каким именем сохранить. В окне выбора имени файла (или в файловом приказчике) можно также указать кодировку. Я советую использовать UTF-8. Кстати, внутренне TEA держит текст в UTF-16. UTF-8 и UTF-16 - варианты юникода.</p>

<p><b>Последний открытый</b> - открывает последний открытый файл, который был закрыт. Проще говоря, первый файл из списка <b>Последние файлы</b>.</p>

<p><b>Открыть под курсором (F2)</b> - одна из моих любимых вещей в TEA. Позволяет открыть файл, на имени которого (в HTML иил LaTeX документе) стоит курсор. Если картинка - редактор вам покажет ее. Ежели текстовый файл - откроет. Если уже открыт - сделает текущим его вкладку. Коли имя файла не заключено в кавычки, выделите его - тогда тоже можно применить <b>Открыть под курсором</b>. Пользуйтесь на здоровье! Кроме того, эта штука умеет переносить вас по локальным href-ссылкам.</p>

<p>Если же курсор стоит не на тексте, а в списке файлов в приказчике, то нажатие F2 на файле с картинкой (любой из поддерживаемых TEA форматов от JPEG до TIFF) откроет уменьшенное изображение во встроенной смотрелке.</p>

<p>Существует также способ открывать файл по месту курсора вообще в произвольной программе. Как это сделать, читайте в разделе про меню "Запуск".</p>

<p><b>Фигня</b> - открывает особый файл, чтобы вы заносили туда всякие заметки и прочую ерунду. Файл автоматически сохраняется при закрытии себя отдельно или всего TEA.</p>

<p><b>Заметки</b> - почти то же, что Фигня, только для текущего файла. TEA создает для него файл с расширением .notes, автоматически сохраняемый, куда вы можете помещать заметки, относящиеся к текущему файлу. Мне, например, удобно выкидывать туда текст, я хочу временно или навсегда убрать из файла, или разные сведения для дальнейшего использования в файле.</p>

<p><b>Сохранить иначе &gt; Сохранить запасную копию</b> - сохраняет содержимое текущего файла под именем, составленным из имени текущего файла и расширения "bak".</p>

<p><b>Сохранить иначе &gt; Сохранить версию по времени</b> - тоже сохраняет копию, только имя этой копии составляется с добавлением к нему текущих даты и времени (включая миллисекунды).</p>

<p><b>Последние файлы</b>. Из этого подменю вам доступен для быстрого открытия любой из дюжины последних открытых файлов. При этом TEA знает, в какой файл кодировке, а также перемещает курсор в место текста, с которым вы работали в последний раз.</p>

<p><b>Шаблоны</b> - чтобы создать новый файл на основе шаблона, просто выберите в этом меню имя файла-шаблона. Как создать свой шаблон? Достаточно сохранить любой файл в папке шаблонов. Для этого выберите пункт меню <b>Сохранить как</b> и, в открывшемся файловом приказчике воспользуйтесь закладкой <i>шаблоны</i> (или в стандартном диалоговом окне сохранения файла, щелкните на  <b>templates</b> в левой панели быстрого доступа).</p>

<p>Сходным образом, для открытия шаблона на редактирование, открывайте файл-шаблон как обычный файл. Удалить или переименовать шаблон можно либо в файловом приказчике, или в диалоговом окне через контекстное меню (правая кнопка мыши).</p>

<p>Шаблоны должны быть в кодировке UTF-8. При сохранении шаблона внутри TEA (не в другом редакторе), TEA принудительно устанавливает эту кодировку.</p>

<p><b>Сессии</b>. Сессия - это просто список файлов. Чтобы можно было их сразу загрузить. Выбор сессии в этом меню открывает все файлы, которые включены в сессию. Чтобы сохранить сессию, надо набрать ее имя в ЗПВ, а потом воспользоваться менюшкой  <b>Файл &gt; Сохранить иначе  &gt;  Сохранить сессию</b>. В настройках, на вкладке <b>Общие</b>, можно поставить галочку на <b>Загружать последнюю сессию при запуске</b>. Это значит, что при выходе список файлов будет сохраняться в сессию по умолчанию, а потом при запуске редактора - загружаться.</p>

<p><b>Закладки</b> - меню, подобное <b>Последним файлам</b> за исключением того, что список ведется вручную, вами самими. Правильнее было бы назвать это меню <b>Избранное</b>. Итак, вы можете добавить туда любой файл - пунктом <b>Править закладки  &gt; Добавить в закладки</b>. Для редактирования файла закладок надо пойти в <b>Конфиги &gt; Список закладок</b>. Откроется в режиме редактирования обычный текстовый файл со списком закладок. Каждая строка списка содержит в себе полный путь к файлу, кодировку и положение курсора. Удаляете ненужные строки, сохраняете файл - и меню <b>Закладки</b> автоматически обновляется.</p>

<p>Строки закладок можно временно отключать, предваряя их символом #. Такая строчка не будет отображаться в меню. Функция <b>Править закладки  &gt; Найти ошибочные пути</b> проверит пути к файлам, на кои указывают закладки, и закомментирует те закладки, для которых файлы не найдены по указанному в закладке пути.</p>

<p><b>Действия над файлом</b> - полезное подменю. Кроме прочего, отсюда можно жестко задать параметры конца строки. <b>Установить конец строки как в UNIX</b>, <b>Установить конец строки как в Windows</b>, <b>Установить конец строки как в Mac</b> - этими функциями вы указываете TEA, какой конец строки применить при сохранении. А чтобы проверить, какой конец строки у файла, пойдите в файловый приказчик, установите курсор на нужный файл, и выберите пункт меню <b>Фм &gt; Сведения о файле &gt; Полные сведения</b>.</p>

<p><b>Не добавлять в Последние файлы</b> - временно отключает добавление закрываемых файлов в список "Последние файлы". Удобно, если вы не хотите нарушить свой список последних открытых файлов какими-то случайными гостями. Отключите добавление, поработайте с этими ненужными для списка файлами, потом включите добавление обратно.</p>

<p><b>Выход</b> - закрывает TEA. Обратите внимание, что редактор не задает лишних вопросов. TEA может разве что полюбопытствовать, желаете ли вы сохранить измененный файл - и то, в случае, если он уже был сохранен ранее. То бишь, подтверждение на сохранение не запрашивается, если файл новый, безымянный. Это же относится и к функции <b>Закрыть текущий файл</b>  (Ctrl-W). Почему так, а не иначе? Чтобы не раздражать вас лишними запросами подтверждений.</p>


<br>
<a name="mni_edit"></a>
<h2>Правка</h2>

<p>О прямоугольном или блочном выделении. Оно не шибко вписывается в архитектуру TEA. Функции обработки текста к нему неприменимы. Всё, что можно делать с прямоугольным выделением, это создать его при помощи <b>Начало блока</b> и <b>Конец блока</b>, а затем <b>Копировать блок</b>, <b>Вставить блок</b> или <b>Вырезать блок</b>.</p>

<p>Пара замечаний о пунктах меню <b>Отступ</b> и <b>Отменить отступ</b>. За ними железно закреплены клавиши Tab и Shift-Tab. Если выделен текст (много строк), то происходит его сдвиг влево или вправо путем вставки или удаления пробелов либо табов. Если текст не выделен, в место курсора вставляется один таб либо пробелы числом, заданным в <b>Наладка &gt; Функции &gt; Ширина таба в пробелах</b>. На поведение нажатия Tab влияет опция <b>Наладка &gt; Интерфейс &gt; Использовать пробелы вместо табов</b>.</p>

<p><b>Отступ по первой строке</b> - делает отступ всем выделенным строкам такой же, как в первой выделенной строке.</p>

<p><b>Файлы-хранилища</b>.</p>

<p>Некоторые люди испытывают потребность копировать текст из множества файлов в какой-то один. И приходится переключаться туда-сюда с документа на документ. Чтобы избежать этой, в прямом смысле, мышиной возни, в TEA есть возможность пометить файл как хранилище, и затем копировать текст напрямую в него, без дополнительных усилий. Для этого достаточно при открытом документе, который вы хотите сделать хранилищем, использовать пункт меню <b>Установить как файл хранилища</b>. Затем, в каком-нибудь другом документе, выделяем текст, и, чтобы скопировать его сразу в хранилище, воспользуемся функцией <b>Копировать в файл хранилища</b>. Если вы потом закроете файл хранилища, то <b>Копировать в файл хранилища</b> не будет работать, пока вы не сделаете другой файл - хранилищем.</p>

<p><b>Захватить/нет буфер обмена в файл хранилища</b> - если включено, то, когда в буфер обмена попадает какой-то текст, он будет скопирован на файл-хранилище. Под MacOS сие работает в пределах только TEA, в других системах - на всю систему, то бишь если вы копируете что-то например в браузере, скопированный текст автоматом помещается в хранилище.</p>

<p>Для форматирования помещаемого в хранилище текста можно использовать файл-шаблон под именем <i>cliptpl.txt</i>, который надо сохранить в основном каталоге конфига TEA. Пример такого файла с макросами:</p>

<pre>
---
%date
%time
%s
---
</pre>

Здесь: %s - текст из буфера обмена, %date - текущая дата, %time - текущее время.

<br>
<a name="mni_markup"></a>
<h2>Вёрстка</h2>

<p>В этом меню собраны функции для быстрой разметки текста в режимах HTML, XHTML, Docbook, Wikitext и Lout и LaTeX. Режим разметки переключается в списке <b>Режим</b> и устанавливается локально для текущего документа. То бишь разные документы могут иметь разные режимы разметки. При загрузке файла для него автоматически выбирается режим смотря по расширению файла. Если расширение файла - .wiki, либо выбран вручную режим Wikitext, то работает разметки Wikitext.</p>

<p>В основном пункты меню <b>Вёрстка</b> служат для ввода тэгов - в зависимости от выбранного режима размётки вставляется нужный тэг. Если был выделен текст, он будет обрамлен тэгами (в случае, ежели таковые предназначены обрамлять).</p>

<p>Кроме того, в меню содержится ряд инструментов, полезных для работы с HTML и XHTML-документами. </p>

<p><b>Инструменты [X]HTML &gt; Переименовать выделенный файл</b> - переименовывает файл, чье имя выделено в тексте, а попутно и сам выделенный текст. Допустим, у нас в HTML (или LaTeX) документе есть ссылка на файл dog.html. Мы хотим одним действием переименовать его на диске в cat.html, а также чтобы в самой ссылке текст, выделенное имя файла, превратилось в cat. Выделяем имя файла в ссылке href (ну или в img src, где угодно). Затем, в Знаменитом Поле Ввода набираем "cat". Применяем <b>Переименовать выделенный файл</b>. Готово! При этом, TEA понимает относительные пути, а также еще учитывает некоторые мелочи в формате путей.</p>

<p><b>Инструменты [X]HTML &gt; Взвесить документ</b> - вычисляет общий объем не токмо HTML-страницы, но и связанных с оной объектов - картинок, флэшек и так далее. Короче говоря всего, что упомянуто в SRC. Итоги взвешивания выводятся в логмемо.</p>

<p><b>Инструменты [X]HTML &gt; Смотреть выделенный цвет</b> - чтобы узреть цвет воочию, выделите его в текста, примените сию функцию и глядите в логмемо - там будет образец. Выделять надо шестнадцатеричное значение либо название вроде red, magenta и тому подобное.</p>

<p><b>Инструменты [X]HTML &gt; Перевести тэги в сущности</b> - как известно, в HTML недопустимы некоторые символы (например, "больше" и "меньше"), поскольку они используются как ограничители тэгов. Поэтому, чтобы показать такие символы на веб-странице, желательно перевести их в так называемые сущности - записанные в особом формате символьные обозначения тэгов. Итак, если вам нужно где-то на веб-странице показать пример HTML-кода, выделите его и примените <b>Перевести тэги в сущности</b>. Получится примерно такое:</p>

<p>&amp;lt;b&amp;gt;демо&amp;lt;/b&amp;gt;</p>

<p>При отрисовке веб-страницы такой пример будет выглядеть как обычный HTML-код, как исходник.</p>

<p><b>Инструменты [X]HTML &gt; Из текста в [X]HTML</b> - переводит обычный текст в [X]HTML, красиво форматированный с помощью CSS. Режим HTML или XHTML зависит от режима вёрстки документа.</p>

<p><b>Кодировать адрес e-mail супротив спама</b> - функция нужна для перевода mailto-ссылок в числовой код символов, составляющих адрес e-mail. Такой код отображается браузером как обычные буквы, однако для спаммерских программ, собирающих адреса электронной почты, он выглядит невразумительно и не воспринимается как почтовый адрес.</p>


<br>
<a name="mni_search"></a>
<h2>Поиск</h2>

<p>В TEA нет диалоговых окон поиска и замены. Вместо этого используется Знаменитое поле ввода. Допустим, вы хотите найти в тексте (документа или руководства) слово. Набираете его в Знаменитом поле ввода (Ctrl-F для быстрого перемещения в него) и жмете Enter. Всё! Затем, чтобы найти следующее или предыдущее вхождение слова в текст, есть пункты меню "Найти дальше" (клавиша F3), "Найти назад" - им же соответствуют и кнопки рядом со Знаменитым полем ввода. Там три кнопки. Первая - Поиск, вторая - найти предыдущее, третья - найти дальше. При первом поиске TEA ищет слова, <b>начиная с места курсора</b>.</p>

<p>Управлять настройками поиска можно, помечая галочками пункты меню <b>Целый слова</b> и <b>Чуткость к регистру</b> и <b>Нечеткое условие</b>. Последнее - это когда вы хотите найти слово, но не знаете точно, как оно пишется. Например - Семилетов или Самолётов. И вот при включенном <b>Нечетком условии</b> редактор найдет оба похожих слова. Степень похожести можно настроить в <b>Наладка - Функции - Разное - Коэффициент поиска по нечеткому условию</b>. Чем он меньше, тем больше похожих слов найдет TEA. Ограничение - TEA находит в этом режиме лишь слова с одинаковым количеством букв.</p>

<p>Чтобы заменить найденный текст (он будет выделен) на другой, надобно ввести этот другой текст опять же в Знаменитое поле ввода и применить пункт меню "Заменить на". Это удобно в сочетании с "Найти дальше". Нашли, посмотрели - надо заменить - жмем "Заменить на", не надо - делаем "Найти дальше".</p>

<p>Либо, как я делаю - копирую в буфер обмена слово, на которое хочу производить замену. Потом по "Найти дальше" (F3) шагаю по заменам, и где хочу, там нажимаю Ctrl-V (вставить).</p>

<p>А чтобы заменить некое слово на другое, по выделенному тексту, надо в ЗПВ поместить правило особого формата, вот такого:</p>

<p>старое слово~новое слово</p>

<p>То бишь разделителем между ними служит символ "тильда" - "~". Пример - мы хотим поменять в тексте все слова "кошка" на "мышка":</p>

<p>кошка~мышка</p>

<p>Затем применяем "Заменить всё". Генная инженерия бессильна объяснить результат.</p>

<p>Функцией замены можно пользоваться также, чтобы убирать из текста нежелательные подстроки. Для этого не пишем после тильды второй параметр. Например, чтобы убрать из текста все слова "оружие", надо задать в ЗПВ "<i>оружие~</i>" и применить <b>Заменить всё</b>.</p>

<p>Можно включить опцию <b>В режиме регулярных выражений</b> - в этом случае, при поиске и замене текст из ЗПВ будет трактоваться как регэксп. Например, чтобы перевести HTML-курсив в TeX-аналог, можно использовать такую формулу в ЗПВ:</p>

<p><i>&lt;i&gt;([^&lt;]*)&lt;/i&gt;~\emph{\1}</i></p>

<p>Обратите внимание, что <i>\1</i> служит как бы обозначением той части текста, которая была "захвачена" регулярным выражением. Вот тут в примере мы поймали весь текст между тэгами. "Улов" по второму условию доступен как <i>\2</i>, по третьему как <i>\3</i> и так далее.</p>

<p>А вот другой пример. Чтобы найти в тексте только числа - любые числа - вводим в ЗПВ следующее регулярное выражение: <i>(\d+)</i>.</p>

<p>Не забудьте отключить режим регулярных выражений, когда захотите вернуться к обычному поиску или замене. Замечание - при включенном режиме регулярных выражений, переключатель <b>Чуткость к регистру</b> расценивается как включенный, даже если он выключен.</p>

<p><b>В режиме файлового приказчика</b>, функция <b>Заменить всё</b> работает с выделенными файлами, используя в качестве кодировки кодировку, выбранную в приказчике в списке кодировок.</p>


<p><b>Заменить всё в открытых файлах</b> - действует так же, как и обычная <b>Заменить всё</b>, однако применительно ко всем файлам, которые сейчас открыты в TEA.</p>

<p><b>Найти в файлах</b> - ищет слово, заданное в Знаменитом поле ввода, начиная в текущем каталоге файлового приказчика (на вкладке <b>Файлы</b>) и далее по вложенным каталогам. Для ускорения поиска, TEA смотрит только в файлы, которые считает текстовыми - а это файлы исходников, для которых TEA поддерживает подсветку синтаксиса, а также файлы с расширением txt и все форматы документов вроде ODT, DOCX, которые понимаются TEA. Это касается также PDF и DJVU, если ТИА собран с их поддержкой. Кроме того, TEA глядит в файлы с именами вроде Changelog. Поиск осуществляется в кодировке, которая выбрана в том же приказчике в списке кодировок. Завершив поиск, TEA выводит окно со списком файлов, где найден текст. Двойным щелчком мыши по названию файла вы откроете его в редакторе.</p>

<p><b>Пометить всё найденное/Снять пометки</b> - помечает в тексте цветом все найденные подстроки или снимает пометки. Эта функция может переглючить цвета вообще, при использовании одновременно с Вид - Темнее. Всё исправится после перезапуска редактора либо в новом открытом документе. Ничего страшного. Ничё-ничё! Луна не падает.
</p>


<br>
<a name="mni_calendar"></a>
<h2>Календарь</h2>

<p>В этом меню, доступном лишь когда вы находитесь на вкладке <b>Даты</b> и глядите на календарь, собраны всякие связанные с ним функции.</p>

<p><b>Добавить или вычесть - дни, месяцы, годы</b>. Допустим, вы хотите посмотреть, какой будет день через 7 дней. Вводим в ЗПВ число 7, и выбираем пункт меню <b>Добавить или вычесть &gt; дни</b>. Хотим 7 лет? Делаем то же самое, только выбираем уже не "дни", но "годы". А если нужно не ЧЕРЕЗ, а ДО? Какой день был 15 дней назад? Указываем в ЗПВ число с минусом, то есть "-15".</p>

<p><b>Количество дней между двумя датами</b> - подсчитывает, сколько дней находится между двумя датами. Выбираем в календаре первую дату и закрепляем её выбором пункта меню <b>Пометить первую дату</b> (это впрочем никак не отобразится на календаре). Затем выбираем в календаре вторую дату и вызываем <b>Пометить вторую дату</b>. Сразу получаем разницу в днях.</p>

<p><b>Вычислить лунные дни между датами</b> - составляет эдакий лунный календарик между из дней между двумя отмеченными датами.</p>

<br>
<a name="mni_functions"></a>
<h2>Функции</h2>

<p>Чтобы использовать функции обработки текста, надо сначала этот текст выделить. Некоторые функции, например <b>Статистика по тексту</b>, могут работать вдобавок и со всем текстом документа. В совсем редких случаях, таких как изменение регистра, если текст не выделен, то в качестве обрабатываемых данных берется слово, на котором стоит курсор.</p>

<p>Некоторые функции принимают параметры. Параметры следует прописывать в Знаменитом Поле Ввода (ЗПВ, строка внизу главного окна) - до применения функции. Например, функция <b>Удалить строки &lt; размера N</b> должна получить этот самый размер, число, из Знаменитого поля ввода. Значений по умолчанию нет, зато всегда можно выполнить отмену примененной функции.</p>

<p><b>Функции &gt; Предложения с большой буквы</b> - чтобы предложения начинались с большой буквы. Удобно для автоматических субтитров с Ютуба. Расставили точки и знаки ?, !, а потом применили эту функцию.</p>

<p><b>Функции &gt; Инструменты &gt; Масштабировать картинку</b> - масштабирует картинку, на имени которой в тексте стоит курсор или имя просто выделено. Пропишите в ЗПВ параметры преобразования и примените эту функцию.</p>

<p>Формат параметров: имя файла~новый размер</p>

<p>Имя файлы это имя выходного файла, то есть файла-результата. Оно может быть просто задано жестко, например "out.jpg", а может быть составлено из исходного при помощи макросов %basename (имя файла без расширения), %ext (расширения). Таким образом полное исходное имя составляется из строки %basename.%ext</p>

<p>Имя файла + расширение заменяются также макросом %filename</p>

<p>Однако если вы не хотите записывать масштабированный файл под исходным именем, можно добавить какую-то приставку или добавить что-то после имени. Например:</p>

<p><i>перед-%basename-bar.%после~1024</i></p>

<p>В этом примере, исходное имя файла будет предварено"перед-", и дополнено "-после".</p>

<p>Второй параметр - новый размер картинки, может быть в пикселах и процентах (добавьте % после числа):</p>

<p><i>новое-%basename.%ext~1024</i></p>
<p><i>новое-%basename.%ext~50%</i></p>

<p><b>Ячейки</b> - это подменю используется для обработки табличных данных, коими могут быть, например, таблицы LaTeX или CSV-строки. Все функции требуют, чтобы вы задали в ЗПВ по крайней мере один параметр - разделитель столбцов, чтобы TEA знал, как ему разбирать строки.
</p>

<p><b>Функции &gt; Ячейки &gt; Упорядочить таблицу по столбцу в алфавитном порядке</b> - делает то, что сказано.
</p>

<p>Строка формата для ЗПВ: <i>разделитель~номер столбца</i></p>

<p>Столбцы (колонки) нумеруются с нуля, то есть нулевой это первый, первый - второй, и так далее.</p>

<p>Например, у нас есть LaTeX-таблица с 5 рядами по 2 столбца:</p>

<p>собака&amp;кот<br>
баран&amp;корова<br>
змея&amp;суслик<br>
волк&amp;тигр</p>

<p>И теперь мы хотим сортировать таблицу по второму столбцу, там где "кот", "корова". Выделим текст, в ЗПВ вобьем формат "&amp;~1" и применим эту функцию. Таблица будет упорядочена по второму столбцу.
</p>

<p>Удобно обрабатывать таблицу, на включая в нее поначалу переносы строк, например "\\" в LaTeX. Их лучше добавить после обработки, посредством <b>Текст - Применить к каждой строке</b> со значением "%s\\" в ЗПВ.</p>

<p><b>Функции &gt; Ячейки &gt; Поменять местами ячейки</b> - меняет местами столбцы по номеру. </p>

<p>Формат значения для ЗПВ: разделитель~столбец1~столбец2</p>

<p>Скажем, в случае таблицы из примера выше, мы хотим поменять местами столбы 0 и 1, то есть чтобы столбце с "кот" был перед столбцом с "пес". Выберем текст, поместим в ЗПВ значение "&amp;~0~1", и применим <b>Поменять местами ячейки</b>.</p>

<p><b>Функции &gt; Ячейки &gt; Удалить по столбцу</b> - удаляется столбец по его номеру (нумерация с нуля).
</p>

<p>Формат для ЗПВ: разделитель~номер столбца</p>

<p>0 - первый столбец, 1 - второй, и так далее.</p>


<p><b>Функции &gt; Ячейки &gt; Копировать по столбцу[цам]</b> - копирует столбцы в буфер обмена.</p>

<p>Формат для ЗПВ: разделитель~столбец 1[~столбец 2]</p>

<p>Если столбец 2 не задан, будет скопирован только столбец 1, иначе - от столбца 1 по столбец 2 включительно. Хо-хо-хоооо!</p>


<p><b>Функции &gt; Анализ &gt; Статистика по тексту</b> - выводит в логмемо разную статистику по всем или выделенному тексту - количество символов с пробелами, без них и так далее.</p> 

<p><b>Функции &gt; Анализ &gt; УНИТАЗ</b> - УНИТАЗ, или УНИверсальный Текстовый АналиЗатор - это научное средство для частотного анализа текста. Дается статистика частоты употребления слов, а также некоторые соотношения, например, слов повторяющихся и без повторов. Что имею в виду? Допустим, в тексте трижды встречается слово "кот". Так вот, количество этого слова без повторов равно 1, а с повторами - 3. Именно такие количественные определения действуют в УНИТАЗе.</p> 

<p><b>Функции &gt; Анализ &gt; Извлечь слова</b> - извлекает из текста все слова и помещает их списком в новый документ. Полезно для создания словарей. Может занять большое время в зависимости от размера обрабатываемого файла и скорости вашего компьютера.</p> 

<p><b>Функции &gt; Анализ &gt; Подсчитать вхождение подстроки</b> - вычисляет, сколько раз подстрока (заданная в Знаменитом поле ввода), входит в текст документа. И выводит полученное число в логмемо.</p> 

<p><b>Функции &gt; Анализ &gt; Длины слов</b> - выводит статистику, сколько слов такой-то длины в документе.</p> 


<h3>Функции &gt; Таблицы</h3>

<p>Таблица - это чудесное средство для замены в одном документе сразу множества слов, а не по одному. Сначала создаем таблицу - в виде обычного текстового файла. Примерно так: </p>

<pre>кошка=собака
мяукает=лает</pre>

<p>Сохраняем этот файл в особом каталоге - он доступен под названием <i>таблицы</i> на панели закладок в файловом приказчике или в окне сохранения. Под именем, с которым вы сохранили файл, он появится в меню <b>Функции &gt; Таблицы</b>. Попробуем применить таблицу.</p>

<p>В новом файле введем (конечно, не введем, а скопируем туда) текст: "<i>кошка мяукает</i>", выделяем его, затем выбираем в меню нашу таблицу, применяя ее к тексту. Что получилось? В тексте произошли множественные замены и теперь он гласит: "собака лает". Замечательно!</p>

<p>Если в меню <b>Поиск</b> включен пункт <b>В режиме регулярных выражений</b>, это сказывается и на обработке текста таблицами. При этом в таблице <i>заменяемые слова</i> задаются регэкспами.</p>

<p><b>В режиме файлового приказчика</b>, функция замены при помощи таблиц работает с выделенными файлами, используя в качестве кодировки кодировку, выбранную в приказчике в списке кодировок.</p>

<h3>Функции &gt; Сниппеты</h3>

<p>Сниппет - это кусочек текста, который можно быстро вставить в документ. TEA хранит сниппеты как отдельные файлы в каталоге <i>$HOME/.tea/snippets</i>. Выбор сниппета из меню вставляет текст сниппета в документ по месту курсора.</p>

<p>Чтобы создать сниппет, достаточно бодро сохранить файл (в котором набран текст сниппета) в указанный выше каталог. Перейти туда можно по закладке <i>сниппеты</i> в файловом приказчике либо <i>snippets</i> в окне <b>Сохранить как</b>. Там же сниппеты можно переименовывать и удалять (в диалоге <b>Сохранить как</b> эти функции - в контекстном меню по правому щелчку мыши). Давая имя сниппету, скрипту, шаблону или сессии, следите, чтобы оно не совпадало с уже существующими названиями пунктов меню. Иначе редактор не сможет правильно назначать "горячие клавиши".</p>

<p>Сниппеты пригодны не только для простой вставки в текст. Ими можно обрамлять выделение. Например, мы хотим сниппетом оформить тэгами выделенный текст. Пример сниппета, который помещает выделенный текст в тэг ссылки (A с параметром HREF):</p>

<p>&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;</p>

<p>Здесь в теле сниппета мы используем макрос %s, который представляет выделенный текст. Когда сниппет будет применен, т.е. выбран из меню, он заменит собой выделенный в документе текст, однако вместо макроса %s будет подставлено содержимое выделения. Если же текст не был выделен, сниппет просто вставится по месту курсора, и при вставке макрос %s чудесным образом исчезнет.</p>

<p>Открыть сниппет для редактирования можно тем же способом, что и обычный файл.</p>

<h3>Функции &gt; Скрипты</h3>

<h4>Скрипты с точки зрения пользователя</h4>

<p>В TEA, вы можете использовать скрипты для обработки текста точно так же, как и встроенные функции. То есть, грубо говоря - выделяете текст, вызываете из меню скрипт. Если скрипт принимает какой-нибудь управляющий параметр, то его, этот параметр, надо вписать в Знаменитое поле ввода. </p>

<p> TEA "понимает" скрипты, написанные на Python, Perl, Lua, Ruby, Bash (Sh), 2/Rexx и вындовые bat-файлы. Чтобы установить скрипт, просто скопируйте его в <i>$HOME/.config/tea/scripts</i> (либо сохраните его в этой папке, выбрав в файловом приказчике папку <i>скрипты</i>. Если скрипт находится в архиве, то распакуйте его. TEA "увидит" установленные скрипты после перезапуска редактора либо сохранения скрипта.  Удалять и переименовывать скрипты можно так же, как и сниппеты, шаблоны и т.д. - через файловый приказчик либо диалоговые окна открытия/сохранения.</p>

<h4>Скрипты с точки зрения разработчика</h4>

<p> Как написать скрипт для TEA? Да очень просто. Во-первых, вам нужно знать, как TEA передает текст в скрипт, и как получает обработанный текст обратно, чтобы заменить им выделение.</p>

<p> TEA запускает каждый скрипт с двумя параметрами. Первый параметр всегда указывает на имя файла, в котором содержится переданный из TEA текст (в UTF-8). Текст этот - выделенный фрагмент из текущего документа. То есть, чтобы получить из TEA текст, вам нужно в коде скрипта прочитать содержимое файла, чье имя передано в первом параметре к скрипту. Второй параметр (если существует) содержит имя файла, в который TEA записывает текст (UTF-8) из Знаменитого поля ввода. Итак, чтобы получить содержимое Знаменитого поля ввода, вам нужно внутри скрипта прочитать файл, на имя которого указывает второй параметр скрипта.</p>

<p>При обработке текста обратите внимание на кодировку - TEA передает текст в скрипты в кодировке UTF-8 и предполагает, что в этой же кодировке текст будет возвращен ему обратно. А как возвращать? Тоже просто. Надо записать обработанный текст в тот же файл, откуда текст был прочитан. То есть в файл, чье имя в первом параметре к скрипту.</p>

<p> Ниже я приведу пример UTF-8-безопасного скрипта на Python. Этот скрипт "переворачивает" регистр символов полученного текста и возвращает обработанный текст обратно в TEA.</p>

<pre>import sys
import string
import codecs
f = codecs.open(sys.argv[1], "r", "utf-8" )
u = f.read()
f.close
u = u.swapcase()
f = codecs.open(sys.argv[1], "w+", "utf-8" )
f.write (u)
f.close</pre>

<p>Итак, sys.argv[1] (первый параметр скрипта) содержит имя файла, который нам нужно прочитать, чтобы получить текст из TEA. Когда мы обработали текст, мы записываем его все в тот же файл, имя которого содержится в sys.argv[1]. Обратите внимание на использование кодеков (в Python). Это необходимо для правильной работы скрипта с UTF-8.</p>

<p>И другой пример - эдакий калькулятор. Он получает выделенный текст, а в тексте - какое-то математическое выражение. Скрипт вычисляет его и возвращает результат. Поскольку мы имеем дело только с числами, мы можем не заботиться о кодировке:</p>

<pre>import sys
f = file (sys.argv[1], 'r')
s = f.read()
f.close
t = eval (s)
f = file (sys.argv[1], 'w+')
f.write (str (t))
f.close</pre>

<p>А что, ежели нам нужно получить некий параметр, с помощью которого пользователь, введя этот параметр в Знаменитое поле ввода, хочет повлиять на работу скрипта? В Python, для получения этого параметра, надо прочитать файл, чье имя находится в sys.argv[2]. А в Bash-скрипте, используйте $1 для получения имени файла с текстом документа, и $2 - для получения имени файла с содержимым Знаменитого поля ввода.</p>

<p>Примечания о BASH-скриптах и вызовах sed и подобных программ. Для их правильной работы внутри скрипта надо скопировать буферный файл TEA - $1 в какой-нибудь временный файл, обработать этот временный файл и вывести результат обратно в $1. Вот пример такого скрипта (он заменяет все слова cat на dog):</p>

<pre>cp $1 /tmp/xyz.xyz
sed 's/cat/dog/g' /tmp/xyz.xyz > $1</pre>

<p> Если вы собираетесь пожертвовать какие-то скрипты для коллекции скриптов на сайте TEA, то было бы здорово, если б вы дали свой скрипт со статусом "общественное достояние" (public domain). Во всяком случае, не под собственнической (proprietary) лицензией. Еще в комментариях внутри скрипта укажите авторство и описание скрипта.</p>

<p><b>Сортировка  &gt;  Сортировать учитывая регистр</b> - сортирует выделенные строки по алфавиту, учитывая регистр. То бишь "собака" это не "Собака".</p>

<p><b>Сортировка &gt;  Перевернуть список</b> - переворачивает порядок строк. Было:</p>

<p>Собака<br>
Кот<br>
Коза
</p>

<p>Будет:</p>

<p>Коза<br>
Кот<br>
Собака</p>

<p><b>Сортировка  &gt;  Сортировать зависимо от регистра, по разделителю</b> - упорядочивает по алфавиту слова в строке, разделенные неким разделителем, который надо прописать в ЗПВ. Например, разделителем может быть "|", а строка: "собака|кот|попугай".</p>

<p><b>Сортировка &gt;  Перевернуть список, размежеванный разделителями</b> - переворачивает слова, разделенные неким ограничителем. Например, можно в обратном порядке выстроить слова в таком тексте: "собака|кот|коза". Разделитель записываем предварительно в ЗПВ.</p>

<p><b>Фильтр &gt; Фильтровать повторы</b> - оставить в списке только слова, удовлетворяющие образцу, где есть повторяющиеся буквы. Например, мы хотим оставить в списке все слова из 5 букв, где первая и последняя будут одинаковы. В ЗПВ вводим образец 10001, выделяем текст и применяем функцию. Или, образец для слова "собака" будет таков: "000101".
</p>

<p><b>Фильтр &gt; Удалить повторения</b> - удобно, когда у вас список строк, содержащий повторы. После применения этой функции, все повторы, следующие за первым встречающимся повторно элементом, будут удалены. На слабых компьютерах выполнение сей функции может затянуться.</p>

<p><b>Фильтр &gt; Удалить пустые строки</b> - пустые строки столь же полезны, как пустые глаза, в отличие от пустых бутылок. Поэтому необходимо средство для удаления пустых строк. И в TEA оно есть.</p>

<p><b>Фильтр &gt; Удалить строки &lt; размера N</b> - удаляет в списке строки, чья длина меньше, чем значение N. N  - число, которое надо ввести в Знаменитое поле ввода.</p>

<p><b>Фильтр &gt; Удалить строки &gt; размера N</b> - почти то же самое, только удаляет строки с длиной больше заданной.</p>

<p><b>Фильтр &gt; Фильтровать по регэкспу</b>. Регэксп - сокращение от регулярного выражения. Регулярное выражение это, грубо говоря, шаблон для задания нечеткого критерия отбора. Допустим, можно отфильтровать текст, начинающейся с некоего сочетfния букв, или текст, содержащий только цифры. Регулярные выражения - большая тема, здесь я не буду ее касаться, читайте лучше сайт <a href="http://regexp.ru/">regexp.ru</a>. ТИА обрабатывает регэкспы с помощью библиотеки PCRE2.</p>

<p>Пример. Допустим, у нас есть список с именами файлов:</p>

<p>hello.doc<br>
example.txt<br>
nature.jpeg<br>
mytext.txt</p>

<p>И вот мы хотим, чтобы в этом списке остались лишь имена, заканчивающиеся на ".txt". Для этого регулярное выражение (которое надобно ввести в Знаменитое поле ввода) будет таким:</p>

<p>.*\.txt$</p>

<p>Итак, задаем этот регэксп, выделяем список, применяем функцию. Потрясаем руками с возгласами: "Отлично! Превосходно!" и идем гулять с ручным жуком-богомолом.</p>

<p><b>Фильтр &gt; Удалить после разделителя в каждой строке</b>. Удаляет из каждой строки часть, находящуюся после разделителя, заданного в Знаменитом поле ввода. Например, если разделителем вписать ")" и выделить следующий текст:
</p>

<pre>1.) Янка
2.) Гражданская Оборона
3.) Нирвана</pre>

<p>То после применения фильтра получим:</p>

<pre>1.
2.
3.</pre>

<p><b>Фильтр &gt; Удалить до разделителя в каждой строке</b>. Удаляет из каждой строки часть, находящуюся ДО разделителя, заданного в Знаменитом поле ввода. Например, если разделителем вписать ")" и выделить следующий текст:
</p>

<pre>1.) Янка
2.) Гражданская Оборона
3.) Нирвана</pre>

<p>То после применения фильтра вот что останется:</p>

<pre>Янка
Гражданская Оборона
Нирвана</pre>


<p><b>Математика &gt; град мин сек &gt; дес град</b> переводит координаты из формата "градусы минуты секунды" в "десятичные градусы". Пример: </p>

<p>Было: 40° 26′ 46″ N 79° 58′ 56″ W, будет: 40.446° N 79.982° W.</p>

<p><b>Математика &gt; дес град &gt; град мин сек</b> переводит координаты из формата "десятичные градусы" в "градусы минуты секунды". Пример: </p>

<p>Было: 40.446° N 79.982° W, Будет: 40° 26′ 46″ N 79° 58′ 56″ W.</p>

<p><b>Математика &gt; Сложить по последнему столбцу</b> - складывает числа из каждого последнего столбца выделения. Пример - можно вычислить вот такой текст:</p>

<p>картошка 60<br>
морковка 40,5<br>
капуста 14</p>

<p>TEA сложит из каждой строки последние колонки (столбцы).</p>

<p><b>Математика &gt; Десятичное в двоичное</b> - переводит десятичное целое число в его двоичное представление. Пример: было 255, становится 0000 0000 0000 0000 0000 0000 1111 1111.</p>

<p><b>Математика &gt; Двоичное в десятичное</b> - а эт наоборот. Работает токмо для беззнаковых целых чисел.</p>

<p><b>Математика &gt; Перевернуть биты</b> - поясню на примере: было 0000 0010, станет 1111 1101.</p>

<p><b>Математика &gt; Вычислить</b> - вычисляет математическое выражение, выделенное в тексте, и выводит результат в логмемо. Например, просто наберите в тексте "2+2", выделите это дело, а затем примените "<b>Вычислить</b>". В мат. выражениях можно использовать следующие операторы: +, -, *, /, ^ (возведение в степень), % (проценты). Скобки  поддерживаются. Вот еще несколько примеров:</p>

<pre>2/3*123
5+5+5
1-200*89
2^8
250%5 //сколько будет - 5 процентов от числа 250?</pre>

<p><b>Математика &gt; Арабское в римское</b> - переводит "обычные" числа в римские (т.е. 20 в XX).</p>

<p><b>Математика  &gt; Нумеровать</b> - нумерует выделенные строки согласно заданному образцу, который надобно поместить в Знаменитое поле ввода. Синтаксис следующий: <i>шаг~количество цифр~префикс</i>.</p>

<p><i>Шаг</i> - шаг, с которым будет увеличиваться значение счетчика. Например, шаг 1 даст нам числа 1, 2, 3 и так далее. Шаг, равный 10, даст нам ряд 10, 20, 30.</p>

<p><i>Количество цифр</i> определяет, как много цифр должен содержать счетчик - недостающие будут заменены нулями. Например, если <i>количество цифр</i> = 3, а <i>шаг</i> = 1, то мы получим 001, 002, 003, 004 и так далее.</p>

<p><i>Префикс</i> - это префикс, который будет вставлен в каждую обрабатываемую строку после счетчика, но до текста строки. Пробелы в конце префикса - значимые, они тоже идут в ход.</p>

<p>Несколько примеров:</p>

<p>пример 1, параметры таковы "<i>1~3~) </i>" (без кавычек). Получается:</p>

<pre>001) собака
002) кот
003) мышь</pre>

<p>пример 2, параметры следующие: "<i>10~1 </i>" (без кавычек). Получается:</p>

<pre>10 собака
20 кот
30 мышь</pre>

<p>пример 3, параметр "<i>1</i>" (без кавычек). Выходит это:</p>

<pre>1собака
2кот
3мышь</pre>

<p>Вы можете использовать эту функцию и без параметров, в таком случае шаг будет равен 1, количество цифр - нулю (т.е. нули не будут добавляться), префикс - пустой строке. Каждый последующий параметр - необязателен. То есть, можно задать только шаг, или только шаг и количество цифр, либо шаг, количество цифр и префикс.</p>

<p><b>Математика &gt; Субтитры: сдвинуть таймкоды на миллисекунды</b> - с помощью этой функции можно сдвинуть таймкоды в субтитрах форматов SRT и Ютуба. Сдвиг с миллисекундах надо вписывать ЗПВ. Сдвиг может быть отрицательным, например "-2000" это минус 2000 миллисекунд, или 2 секунды. Выделите текст, введите миллисекунды, примените функцию.</p>


<h3>Функции &gt; Азбука Морзе</h3>

<p>Поддерживаются русский и английский. После перевода в морзянку, коды букв разделены пробелами. Пробелы между словами теряются. Эти функции полезны, наверное, для начинающих радиолюбителей и жертв кораблекрушения - чтоб фонариками о беде сигналить. Пролетает самолет - посигналь. Проплывает мимо баржа - посигналь.</p>

<p><b>Статистика  &gt; Статистика по тексту</b> - показывает количество символов всего, символов без пробелов и прочие сведения, которые полезно знать приличному человеку.</p>

<p><b>Текст &gt; Сжать</b> - удаляет из выделения все пробелы, переводы строки и символы табуляции.</p>

<p><b>Текст &gt; Анаграмма</b> - вычисляет все анаграммы к выделенному тексту. В зависимости от длины слова, вычисление может занять ОЧЕНЬ много времени и памяти, но не думайте, что редактор завис. Пример анаграммы для слова "кот":</p>

кот<br>
кто<br>
окт<br>
отк<br>
тко<br>
ток<br>
<br>

<p><b>Text  &gt; Anagram</b> - find all anagrams of the selected text. Can be VERY slow and eats a lot of memory if the word is large. Example: dog</p>

dgo<br>
dog<br>
gdo<br>
god<br>
odg<br>
ogd<br>

<p><b>Текст &gt; Удалить форматирование в каждой строке</b> - убирает форматирование (табуляцию, пустые строки, многократные пробелы) в каждой строке выделенного текста. В итоге у вас получается набор строк, в каждой из которых нет форматирования.</p>

<p><b>Текст &gt; Удалить форматирование</b> - удаляет вообще всё форматирование в выделенном тексте. То бишь набор вероятно форматированных строк превращается в одну здоровенную строку без каких-либо разделителей.</p>

<p><b>Текст &gt; Применить к каждой строке</b> - мощнейшее средство для добавления заданного вами текста к каждой строке выделения. Например, вы хотите добавить тэг BR в конец каждой строки. Пишем в Знаменитом поле ввода:</p>

<p>%s&lt;br&gt;</p>

<p>Затем выделяем текст и используем <b>Применить к каждой строке</b>. Как видите, макрос %s служит заменителем изначального содержимого обрабатываемой строки. Вот другой пример - мы хотим заключить каждую строку в пару тэгов LI. Очевидно, что в "формуле" макрос %s следует поместить между тэгами, дабы указать, где именно в каждой строке надо размещать текст из этой строки. Формула для Знаменитого поля ввода будет такова:</p>

<p>&lt;li>%s&lt;/li&gt;</p>

<p>И еще пример:</p>

<p>&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;</p>

<p>Можно использовать и сниппеты. Чтобы применить сниппет к каждой строке, надо ЗПВ до использования <b>Применить к каждой строке</b> поместить <i>@@имя_сниппета</i>. Например, если у вас сниппет (файл в каталоге сниппетов) называется hello, то надо будет написать: <i>@@hello</i>. Поскольку в сниппете используется макрос %s для подстановки выделенного текста, то в случае <b>Применить к каждой строке</b> роль выделенного текста будет играть каждая выделенная строка.</p>

<p><b>Текст  &gt; Перевернуть</b> - просто переворачивает строку. Было "носоглотка", станет "актолгосон".</p>

<p><b>Текст  &gt; Проверить совпадение по регэкспу</b> - загоняем регэксп в ЗПВ, выделяем в файле текст, применяем, смотрим ответ в логе.</p>


<br>
<a name="mni_run"></a>
<h2>Запуск</h2>

<p>Это меню предназначено для запуска внешних программ с текущим открытым файлом. В частности, для запуска браузеров. Список программ настраивается через обычный текстовый файл, который открывается пунктом меню <b>Файл &gt; Конфиги &gt; Список программ</b>. Файл состоит из записей вида:</p>

<p>название пункта меню=командная строка</p>

<p>Например, в Linux, строчка для Firefox может быть такой:</p>

<p>FF=firefox %s</p>

<p>%s - макрос, вместо коего при запуске программы будет подставлено имя текущего файла. В Windows, в командной строке вам надо прописывать полный путь к исполняемому файлу, и желательно заключать его и макрос %s в кавычки (отдельные пары кавычек и для пути, и для макроса). Пример:</p>

<p>opera="C:\Program Files\Opera\opera.exe" "%s"</p>

<p>Есть и более подробные макросы: %basename, %filename, %ext, %dir. Они позволяют использовать части полного пути. Так, если у нас есть полный путь "/mnt/foo/bar.txt", то %dir = "/mnt/foo", %basename = "bar", %filename = "bar.txt", %ext = "txt". И полный путь текущего файла можно задать так: %dir/%basename.%ext</p>

<p>Также можно вместо макроса %s использовать %i, который при вызове программы будет заменен на имя файла, на коем стоит курсор в тексте. Иными словами, функция та же, что по "Открыть под курсором", только с нужной вам программой. Так удобно, скажем, использовать какой-нибудь графический редактор, если вам надо быстро подправить картинку в HTML или LaTeX. Пример:</p>

<p>gimp=gimp %s</p>


<br>
<a name="mni_spell"></a>
<h2>Функции &gt; Проверка правописания</h2>

<p>Для проверки правописания в TEA используются движки<a href="http://aspell.net">ASpell</a> и <a href="http://hunspell.github.io">Hunspell</a>.</p>

<p>Во-первых надо решить, какой движок использовать. Выбрать движок можно на странице <b>Наладка &gt; Функции</b>, там есть список <b>Движок проверки правописания</b>. Количество пунктов в нем зависит от вашей сборки TEA - я не знаю, какая у вас. В Linux, TEA может быть собран с обоими движками, с каким-то одним, или вообще без проверки правописания. Для Windows я делаю сборки сам, с обоими движками. Сам использую в работе Hunspell.</p>

<p>Как настроить Aspell для Windows? Скачайте полный установщик Aspell с <a href="http://aspell.net/win32/">http://aspell.net/win32/</a>. Затем, с той же страницы, скачайте и установите словари - при установке вас будут спрашивать, в какую папку - и предлагать папку, где уже установлен Aspell. Соглашайтесь. По умолчанию это C:\Program Files\Aspell. Иногда при установке словаря появляется консольное окошко с запросом - мол, переписать ли файл или тому подобное - там надо нажать "A" (английскую), - мол, All - переписать все файлы. Далее, установив словари, задаем в TEA путь к Aspell, в <b>Наладка - Функции - Папка Aspell</b>. И перезагружаем TEA. Теперь в Функции - Языки проверки правописания, выбираем язык, а потом через Функции - Проверка правописания, запускаем проверку.</p>

<p>В Linux, при использовании Aspell предполагается, что у вас в системе установлены Aspell-словари, соответствующие вашей локали. При первом запуске TEA полагает, что такой словарь есть, поэтому по умолчанию таковой будет использован. Иначе же можно сменить язык проверки орфографии вручную, с помощью меню <b>Языки проверки правописания</b>. Выбранный язык сохранится до следующего раза работы с TEA и далее, пока вы снова его не поменяете.</p>

<p>Для Hunspell нет "общесистемных" словарей, и существует два варианта установки словарей для этого движка. Вариант первый - скачать архивы со словарями с хранилищ расширений для LibreOffice. Там предлагается скачать файлы с расширением OXT. На деле это обычный ZIP-архив. Просто переименуйте скачанный файл, дав ему расширение ZIP. Создайте каталог для словарей, распакуйте туда получившийся ZIP. Собственно, оттуда нужны только файлы с расширениями AFF и DIC. Каталог со словарными файлами укажите в настройках TEA, в поле <b>Каталог со словарями для Hunspell</b> на странице <b>Наладка &gt; Функции</b>, а затем выбрать нужный словарь в меню <b>Функции &gt; Языки проверки правописания</b>. Этот же пункт выбираем после каждой смены движка. И он запомнится - можно будет потом просто вызывать "Проверить правописание", без постоянного выбора языка. Хороший русский словарь можно взять по адресу <a href="http://code.google.com/p/hunspell-ru/">http://code.google.com/p/hunspell-ru/</a>. После добавления словарей лучше перезапустить TEA.
</p>

<p>Второй вариант - подключение к TEA словарей Hunspell, которые уже установлены для других программ - например Firefox или OpenOffice.org. При установленном в локальный каталог пользователя Firefox, словари лежат в <i>firefox/dictionaries</i>.</p>

<p>Пункт <b>Проверить правописание</b> проверяет текст используя именно этот вот запомненный язык. Ошибочные слова (вернее те, которых нет в словаре) будут подчеркнуты красным. Исправить слово можно вручную, либо выбрав вариант из списка, предложенного TEA по выбору пункта меню <b>Предположить</b>. После этого исправленное слово остается подчеркнутым, ибо движок проверки орфографии действует в ручном режиме и не обновляет раскраску ошибок до повторной проверки. А чтобы скрыть раскраску вообще, есть пункт меню <b>Вид  &gt; Скрыть помеченное как ошибки</b>. Исправленное слово, да и вообще любое, на котором стоит курсор, можно добавить в словарь с помощью пункта <b>Добавить в словарь</b>.</p>

<p><b>Удалить из словаря</b> - удаляет слово (по месту курсора) из пользовательского словаря, только для Hunspell. Измененный словарь подгружается при перезапуске движка - это происходит после повторного запуска редактора, либо смены текущего движка.</p>


<br>
<a name="mni_nav"></a>
<h2>Нав</h2>

<p><b>Метки, Обновить метки</b>. Эта штука полезна для правки больших текстов. Вы можете прямо в тексте делать поименованные метки и потом быстро перемещаться между ними при помощи меню <b>Метки</b> либо через выпадающий список рядом с кнопкой <img src=":/icons/labels.png" border="0" alt="" width="24" height="24"> на панели инструментов. Как создавать метки? Пишете к тексте любое слово и обрамляете его "[?" и "?]". Эти вот начальные и замыкающие отметки можно переопределить в <b>Наладка - Функции - Метки</b>. Итак, написали такую метку, нажали <img src=":/icons/labels.png" border="0" alt="" width="24" height="24"> или выбрали пункт меню <b>Обновить метки</b>, и к меню Меток и к выпадающему списку добавится новая метка. Выбираем её - перемещаемся в то место текста, где она написана. Метки обновляются только вручную, то есть если вы загрузили файл с метками, надо всё равно их обновить.</p>

<p>Пример. Создадим в разных местах текста метки "[? собаки ?]" и "[? коты ?]". Обновляем метки. Готово!</p>

<p><b>К строке</b> - перемещает курсор на строку по номеру, указанному в Знаменитом поле ввода.</p>

<p><b>Запомнить место/К сохраненному месту</b> - парные функции, служащие для быстрого перемещения туда-сюда по документу. Запомнили место - <b>Запомнить место</b>, потом прокрутили куда надо, посмотрели, потом захотели вернуться назад - выбрали <b>К сохраненному месту</b>. Удобно в работе с большими документами!</p>


<br>
<a name="mni_ide"></a>
<h2>ИДЕ</h2>

<p>В TEA есть некоторые функции IDE, которые помогают в разработке программ, не усложняя при этом жизнь и не заморачивая вас ненужными настройками и кнопками. Отмечу, что как IDE, ТИА проще использовать на пару с возможностью использования профилей (в меню Вид). Создаете один профиль для допустим правки обычых текстовых файлов, другой профиль для разработки, для правки исходников - и переключаетесь между ними. Например у меня в "текстовом" профиле включен перенос слов, размер окна небольшой, шрифы такие-то. А в профиле "разработки" - перенос строк отключен, окно шире, шрифты другие.</p>

<p>Но как же использовать ТИА в качестве IDE? Сначала надо создать файл проекта ТИА. Проще всего сделать это через <b>Функции - Поместить - Шаблон проекта ТИА</b>.</p>

<p>Сохраните его в корневом каталоге исходника вашей программы, вашего проекта - под любым именем, но с расширением teaproject, например <i>myproject.teaproject</i>.</p>


<p>файл .teaproject это простой текстовый файл с записями вида переменная=значение. Они отражают настройки проекта. Вы можете держать несколько .teaproject-файлов в одном каталоге, под разные конфигурации сборки - скажем, один файла проекта под cmake, другой под meson.
</p>

<p>Вот примеры трех файлов проекта, которые я использую при разработке TEA - длоя сборки при помощи qmake/make, meson/ninja и cmake/make.</p>

<p>tea-make.teaproject</p>

<pre>command_build=make
command_clean=make clean
command_run=bin/tea --m&</pre>

<p>tea-meson.teaproject</p>

<pre>dir_build=b
command_build=ninja
command_clean=ninja -t clean
command_run=./tea --m&</pre>

<p>tea-cmake.teaproject</p>

<pre>dir_build=cmake
command_build=make
command_clean=make clean
command_run=./tea --m&</pre>

<p>Синтаксис очень прост:</p>

<p><i>dir_build</i> - каталог, в котором будет запущена команда сборки <i>command_build</i>. Если <i>dir_build</i> не указана, то в ее качестве будет использован каталог, где лежит файл .teaproject. <i>dir_build</i> может быть как абсолютным путем, так и относительным - в последнем случае за основу берется, опять же, каталог с .teaproject, то есть корневой каталог вашей программы.
</p>

<p><i>command_build</i> может быть любой, на ваш выбор: make, ninja, и т.д.</p>

<p><i>command_run</i> - запускается <i>dir_build</i> для выполнения скомпилированной программы.</p>

<p><i>command_clean</i> - запускается в <i>dir_build</i> для очистки проекта.</p>

<p>Когда вы открываете или сохраняете .teaproject-файл, или переключаетесь на его вкладку, TEA перечитывает С ДИСКА его содержимое и делает проект текущим, именно с ним будут работать команды из меню IDE (по запуску, очистке и сборке). Повторюсь - TEA считывает файл-проекст С ДИСКА, а не тот текст файла-проекта, который редактируется в окне. Пока вы этот текст не сохраните, ТИА его не увидит.</p>

<p>Итак, можно открыть несколько файлов-проектов и быстро переключаться между ними. При этом, загруженный файл проекта не влияет на загруженные файлы исходников, вы можете одновременно с этим править любые файлы из любых проектов. Файл проекта, фактически, никак не привязан к исходным файлам, это просто надстройка для сборки программы.</p>

<p>Во время сборки, сообщения компилятора будут выводиться в Логмемо. Если дважды щелкнуть мышью по выделенному жирным шрифтом указанию на место ошибки, TИА откроет нужный файл в нужном месте.</p>


<br>
<a name="mni_fn_man"></a>
<h2>Фп</h2>

<p>Как вы уже догадались, ФП - это сокращение от "файловый приказчик". В меню этом сосредоточены функции, относящиеся к ФП. Часть их повторяет действия, закрепленные за кнопками на вкладке приказчика, часть же - дополняет.</p>

<p>Чтобы использовать некоторые функции, например такие как получение проверочной суммы (а вернее, хэш-суммы) по алгоритму MD5, надо сначала выделить файл (сделать его текущим в файловом приказчике с помощью мыши или клавиатуры), а уже потом применить функцию.</p>


<p><b>ФП &gt; Переименование</b> - это подменю позволяет гибко переименовыми имена файлов. Все функции этого подменю используют переметр из ЗПВ.</p> 

<p><b>ФП &gt; Переименование &gt; Добавить нули к именам</b> - предваряет нулями каждое выбранное имя файла. Имя файла должно содержать нумерацию, например: page1, page100. Такие файлы, без нулей перед числом, не могут быть правильно отсортированы. Как быть?</p> 

<p>Надо ввести длину имени файла в ЗПВ и применить функцию <b>Добавить нули к именам</b>. Из имен файлов будут удалены все нечисловые символы, а числа дополнены нужным количество нулей до заданной длины имени файла. Пример:</p> 

<p>У нас есть файлы:<br>
page1.txt<br>
page100.txt
</p>

<p>Поместим 5 в ЗПВ, применим функцию.</p>

<p>Имена файлов станут такими:<br>
00001.txt<br>
00100.txt
</p>

<p><b>ФП &gt; Переименование &gt; Удалить первые N символов из имен</b> - N это количество, заданное в ЗПВ. Функция удаляет N первых символов из каждого выделенного имени файла.</p> 

<p><b>ФП &gt; Переименование &gt; Заменить в именах файлов</b> - заменить подстроку в каждом выделенном имени файлов. Формат для ЗПВ: <i>старое значение~новое</i>. Например: .jpeg~.jpg</p> 

<p><b>ФП &gt; Переименование &gt; Применить шаблон</b> - применяет шаблон к каждому выделенному имени файла. Доступны макросы, обозначающие части исходного имени файла: %filename (= filename.ext), %ext (= ext), %basename ( = filename). Например, мы хотим переименовать  01.jpeg, 02.jpeg в 01.jpg, 02.jpg. Шаблон для ЗПВ будет таким: <i>%basename.jpg</i> - %basename (имя файла без расширения) и к нему добавится ".jpg".
</p> 


<p><b>Смотреть картинку</b> - то же, что нажать F2 на имени файла-картинки. Отображает оный файл во встроенной гляделке.</p>

<p><b>Отметить по регэкспу/Снять выделение по регэкспу</b> - функции для выделения и его снятия по шаблону, задающемуся с помощью регулярного выражения. Например, чтобы выделить все файлы с расширением txt, надобно в Знаменитое поле ввода вписать регэксп "<i>.*\.txt$</i>" (без кавычек!) и применить <b>Отметить по регэкспу</b>. Затем можно нажать кнопку <b>Открыть</b>, чтобы загрузить выделенные файлы.</p>


<p><b>Подменю сведения о файле</b></p>

<p>Тут находится, кроме прочего, любопытнейшая функция <b>Полные сведения</b>. Она не токмо выдает полные сведения о времени создания файла и тому подобным вещам, но и, ежели файл этот в формате WAV, выводит его параметры, а для 16-битного PCM быстро подсчитывает RMS обоих каналов.</p>

<p>А функция <b>Подсчитать строки в выбранных файлах</b> делает то, что написано, считая при этом и пустые строки.</p>

<p><b>Подменю ZIP</b></p>

<p>У TEA есть простые средства для создания и распаковки ZIP-архивов (без паролей). Чтобы создать такой архив, сначала надо дать ему имя (перейдя в файловом приказчике в каталог, где хотите создать архив) с помощью пункта меню <b>Создать новый ZIP</b>. Затем вы, блуждая по каталогам, добавляете в архив новые файлы, отмечая их (Ctrl-A чтобы выбрать все, или Ctrl-щелчок мыши - чтобы несколько, иначе берется файл под курсором) и вызывая пункт меню <b>Добавить в ZIP</b>. Когда вы наполните свой архив, его надо сохранить менюшкой <b>Сохранить ZIP</b> - ведь до этого файлы на деле добавлялись не в архив, а в список подготавливаемых к упаковке файлов. Внутри архива создается каталог с тем же именем, что и архив, только без расширения zip. В этот каталог внутри архива и помещаются все упаковываемые файлы.</p>

<p>Для распаковки ZIP'а в текущий каталог надо выделить ZIP-файл, и применить функцию <b>Распаковать ZIP в текущий каталог</b>. Иногда бывают косяки с кодировкой имен файлов, находящихся в ZIP-архивах - однако в TEA вы можете выбрать кодировку имен, делается это в <b>Наладка - Общие - ZIP-распаковка: кодировка имен файлов/ZIP-упаковка: кодировка имен файлов</b>. Обычно это либо IBM866, либо CP1251 или UTF-8. Чтобы не ошибиться с выбором кодировки, можете выставить какую-то кодировку и потом попробовать её, не производя физическую распаковку - используйте пункт меню <b>Показать содержимое ZIP</b>. TEA в логмемо отобразит имена файлов из выбранного архива. Если там крякозяблы - подберите другую кодировку.</p>

<p><b>Подменю Картинки</b></p>

<p>Функции <b>Масштабировать по стороне</b> и <b>Масштабировать в процентах</b> служат для массового изменения размера картинок - выделенных файлов. Измененные картинки копируются в новосозданный каталог в той же папке, где вы выделили картинки. Имя этого каталога состоит из слова images-out и случайного числа. При желании каталог будет упакован в ZIP после завершения обработки картинок - для этого надо поставить галочку на <b>Упаковать каталог с преобразованными картинками</b> на вкладке <b>Наладка &gt; Функции</b>. Там же можно выбрать формат выходных файлов - в списке <b>Выходной формат преобразованных картинок</b>, и включить билинейную фильтрацию, которая сглаживает получившиеся изображения.</p>

<p>Итак, чтобы масштабировать картинки, выделите их, а затем, введя в Знаменитое поле ввода количество пикселов или процентов, примените один из пунктов меню: <b>Масштабировать по стороне</b> или <b>Масштабировать в процентах</b>. В чем разница?</p>

<p><b>Масштабировать в процентах</b> - допустим, вы хотите уменьшить каждую картинку на 50 процентов. Выделите файлы, введите в Знаменитое поле ввода число 50 и примените эту функцию.</p>

<p><b>Масштабировать по стороне</b> - в этом случае в Знаменитое поле ввода надо ввести размер наибольшей стороны. У обычной, прямоугольной фотографии всегда есть такая сторона - для вертикальной фотки это высота, а для горизонтальной - ширина. Например, вы скинули с мобилы или цифровика фотографии и хотите их преобразовать в разрешение 640x480 (а вертикальные в 480x640). Стало быть, в поле ввода надо задать значение 640. Примечание: нет, TEA не умеет читать данные EXIF.</p>

<p><b>Создать веб-галерею</b> - это чтобы быстро склепать простенькую табличную веб-галерею. Накидайте в каталог файлов с картинками, там же сохраните HTML-файл и откройте его в TEA. Потом в файловом приказчике перейдите в каталог с этим файлом и картинками. Выделите картинки, примените <b>Создать веб-галерею</b>. Создадутся миниатюры и HTML-табличка, которая вставится в файл по месту курсора.</p>

<p>Всякие настройки веб-галереи (размер миниатюр, количество ячеек в ряду) доступны на странице <b>Наладка &gt; Картинки</b>.</p>

<br>
<a name="mni_view"></a>
<h2>Вид</h2>

<p><b>Палитры</b> - благодать-то какая! Можно выбрать палитру, чтоб иными цветами текст заиграл. Чудо-чудное, диво-дивное. А кто Кулибин, тот может на основе палитр из исходника (см. каталог palettes) создавать свои и сохранять в каталог  <i>$HOME/.config/tea/palettes</i>. У пользователей Windows он где-то во глубине сибирских руд. А именно в <i>Documents and Settings/имя пользователя/tea/palettes</i>. А затем выбрать свою палитру в меню <b>Вид &gt; Палитры</b>.</p>

<p><b>Профили</b> - в этом подменю можно выбрать <i>профиль</i> - поименованный набор настроек, предварительно сохраненный с помощью пункта меню <b>Сохранить профиль</b>. В профиле сохраняются размер, положение главного окна, настройки переноса и нумерации строк и тому подобное.</p>

<p><b>Скрыть помеченное как ошибки</b> - скрывает цветные подчеркивания, оставленные проверкой правописания.</p>

<p><b>Переключить перенос строк</b> - переключает оный для текущего документа.</p>


<p><b>Клавиатуры</b> - список созданных пользователем виртуальных "клавиатур", которые открываются в отдельных окнах. Каждая такая клавиатура - обычный текстовый файл, положенный в <i>$HOME/.config/tea/keyboards</i>. В таком файле содержатся строки, разделенные символом "|". Каждая строка - один ряд создаваемой клавиатуры. Пример:
</p>

<p>
dog|cat<br>
apple|orange
</p>

<p>Таким образом можно создать клавиатуру для быстрого ввода символов какого-либо алфавита или целых слов, строк.</p>

<br>
<a name="mni_prefs"></a>
<h2>Настройки</h2>

<p>В TEA нет отдельного окна настроек. Все настройки доступны прямо из главного окна, на вкладке <b>Наладка</b>. Изменения вступают в силу сразу же и сохраняются автоматически.</p>

<p><b>Дополнительная подсветка</b> - включает подсветку текущей строки и парных скобок.</p>

<p>На вкладке <b>Клавиатура</b> каждому пункту меню, включая разные сниппеты, закладки и тому подобное, можно назначить сочетание "горячих клавиш". Для этого выберите в списке пункт меню, потом в поле ввода справа от списка нажмите нужное вам сочетание клавиш, а затем нажмите кнопку <b>Назначить</b>. Чтобы удалить привязку клавиш, выберите в списке пункт меню и нажмите кнопку <b>Удалить привязку</b>. Чтобы переназначить сочетание клавиш, надо сначала <b>Удалить привязку</b> для пункта, которому было назначено сочетание, а затем назначить его другому пункту.</p>

<p><b>Перенос строк</b> - включить или выключить оный для всех открытых документов, а также для последующих новых и открываемых.</p>

<p>А вот еще любопытная опция <b>Брать настройку переноса строк из модуля подсветки</b> на странице <b>Интерфейс</b>. Если она включена, то сведения о переносе строк будут браться не из опции <b>Перенос строк</b>, а из настроек, заданных в модулях подсветки. Например, для С++ перенос строк отключен. Для обычного текста или для HTML - включен.</p>


<br>
<a name="mni_keyb"></a>
<h3>Клавиатура</h3>

<p>Вдобавок к привычной работе с клавиатурой, в TEA можно включить режим для левшей и амбидекстеров, делается это в <b>Наладка - Общие - Использовать левый Alt + WASD</b>. В этом режиме, удерживая левый Alt, клавиши WASD служат для перемещения курсора, на подмогу им - E, C (как PageUp/Down).</p>  

<p>То же самое, но с удерживаемой левой клавишей Win - выделяет текст.</p>

<p>При включенной же опции <b>Использовать джойстик как курсорные клавиши</b> удобно прокручивать текст, если допустим вы сидите далеко от монитора и читаете текст с экрана, записывая видео для Ютуба. Замечу, что при этом считываются единичные нажатия на крестовину джойпада, а не удержание ее в определенном направлении.</p>

<br>
<a name="mni_autosave"></a>
<h3>Слово про автосохранение</h3>

<p>Расцвела буйным цветом в саду вишня. В ТИА есть ряд функций, которые объединены общим понятием автосохранения, но они имеют разную природу.</p>

<p>Во-первых, есть возможность временно автоматически сохранять несохраненные новые файлы. Пока вы их не сохранили под каким-то именем, можно считать их безымянными буферами. ТИА может сохранять их при выходе (не просто при закрытии вкладки, а именно при выходе из ТИА), если включить опцию <b>Наладка - Общие - Автосохранение - Временно сохранять несохраненные буферы при выходе</b>.</p>

<p>Также в ТИА есть понятие автосохраняемых файлов. Любой текущий файл может быть добавлен в список автосохраняемых через меню <b>Файл - Действия над файлом - Пометить как автосохраняемый файл</b> (и ниже есть пункт отмены этого дела). Такой автосохраняемый файл будет сохраняться автоматически при закрытии (закрытии вкладки или просто закрытии ТИА вообще).
</p>

<p>Буфера и автосохранямые файлы могут также сохраняться периодически, по времени, что управляется через <b>Наладка - Общие - Автосохранение - Сохранять буферы и автосохраняемые файлы каждые N секунд.</b></p>


<br>
<a name="mni_secret"></a>
<h3>Тайная власть</h3>

<p>Познай истину! Рептилоиды возобладают над родом человеческим, если ты не знаешь тайных настроек TEA. К ним нет графического интерфейса, их можно добавлять и править только через главный файл настроек TEA, который сокрыт от любопытных глаз в $HOME/.config/tea\tea.conf (или, под Windows - буква:\Documents and Settings\username\tea\tea.conf). Некоторые изменения вступят в силу после перезапуска TEA. Познай же истину:
</p>

<p><i>recent_list.max_items=максимальное количество элементов в списке последних файлов, по умолчанию 21</i></p>

<br>
<a name="mni_notes"></a>
<h3>Примечания</h3>

<p>Поддерживается старорежимная опция командной строки "--charset=codepage". С её помощью вы можете принудительно задать (по умолчанию-то используется UTF-8) кодировку для файла, открываемого через командную строку. Например:</p>

<p>tea --charset=window-1251 file1.txt file2.txt --charset=utf-8 file3.txt</p>


<p>Документация, все картинки прочее в TEA, кроме исходных кодов, являются общественным достоянием (public domain). Код TEA лицензирован под GPL версии 3, текст которой вы можете прочитать в меню Помощь - Лицензия, а неофициальный перевод с английского - по <a href="http://code.google.com/p/gpl3rus/wiki/LatestRelease">этой ссылке</a>.</p>

<p>О пользователь, взалчущий создавать свои правила подсветки для разных языков программирования. К тебе эти строки! Правила подсветки задаются в xml-файлах, примеры коих ты имеешь счастье видеть в каталоге <i>hls</i> исходника. Свои же файлы правил надобно помещать в каталог настроек TEA, подкаталог <i>hls</i>. Для *nix это <i>$HOME/.config/tea/hls</i>, а под Windows <i>Documents and Settings/имя пользователя/tea/hls</i>. Цвета в правилах подсветки лучше прописывать, ссылаясь на имена из палитры (см. файлы палитр в исходнике), т.е.  пишите "preproc" или "types" вместо шестнадцатеричных значений цветов. Это нужно для правильной работы цветовых схем.</p>

<p>Давайте свои палитры и правила подсветки в TEA! Просьба отдавать это со статусом "общественное достояние" - public domain. Именно так распространяются все файлы TEA, кроме исходника. Почему? Хлопот меньше. Не надо таскать с программой лишние лицензии.</p>


<br>
<a name="mni_author"></a>
<h2>Мои иные проекты</h2>


<p><a href="http://semiletov.org">Личный сайт</a> - тут вы найдете мою прозу, музыку, программы и другое.</p>

<p><a href="https://sites.google.com/site/studiadrymba/">Студия Дрымба</a> - сайт независимой киностудии "Дрымба", снимающей любительские фильмы практически с нулевым бюджетом. Я там один из режиссеров и актеров.</p>

<br>
<a name="mni_donat"></a>
<h2>Поддержать разработку</h2>

<p>Поддержать разработку ТИА вы можете подпиской на <a href="https://www.patreon.com/semiletov">моей страничке на Патреоне</a>.
</p>

</body>
</html>